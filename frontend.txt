### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\App.css
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}


================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\index.css
@tailwind base;
@tailwind components;
@tailwind utilities;

html, body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  background-color: #1F2937;
  color: #fff;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
}

#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 1rem;
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.button-loading::after {
  content: '';
  display: inline-block;
  width: 1rem;
  height: 1rem;
  border: 2px solid white;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 1s linear infinite;
  margin-left: 0.5rem;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\main.tsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './core-ui/App'
import './index.css'

// –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');

const rootElement = document.getElementById('root');
if (rootElement) {
  try {
    ReactDOM.createRoot(rootElement).render(
      <React.StrictMode>
        <App />
      </React.StrictMode>,
    );
    console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ');
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ:', error);
  }
} else {
  console.error('–≠–ª–µ–º–µ–Ω—Ç #root –Ω–µ –Ω–∞–π–¥–µ–Ω!');
}

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\vite-env.d.ts
/// <reference types="vite/client" />


================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\api-client\ordersAdapter.ts
// my-front/src/api-client/ordersAdapter.ts

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
export interface Operation {
  opNumber: number;
  opTime: number;
  opAxes: string;
  assignedMachine?: string;
  startDate?: string;
  endDate?: string;
}

export interface Order {
  id: number;
  machineName?: string;
  blueprintNumber: string;
  startDate?: string;
  deadline: string;
  quantity: number;
  willMeetDeadline: boolean;
  completedQuantity?: number;
  remainingQuantity: number;
  priority: number;
  status: string;
  operations?: Operation[];
  pdfPath?: string;
  drawingUrl?: string;
  previewUrl?: string;
  estimatedCompletion?: string;
  estimatedWorkdays?: number;
  timeMargin?: number;
  materialType?: string;
}

// –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å API (snake_case) –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (camelCase)
export const adaptOrderFromApi = (orderData: any): Order => {
  if (!orderData) return null as any;

  // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–∫–∞–∑–∞
  const order: Order = {
    id: orderData.id,
    machineName: orderData.machine_name,
    blueprintNumber: orderData.blueprint_number || '',
    startDate: orderData.start_date,
    deadline: orderData.deadline || new Date().toISOString(),
    quantity: orderData.quantity || 0,
    willMeetDeadline: orderData.will_meet_deadline !== undefined ? 
                      orderData.will_meet_deadline : true,
    completedQuantity: orderData.completed_quantity || 0,
    remainingQuantity: orderData.remaining_quantity || orderData.quantity || 0,
    priority: orderData.priority || 1,
    status: orderData.status || '–Ω–æ–≤—ã–π',
    pdfPath: orderData.pdf_path,
    drawingUrl: orderData.drawing_url,
    previewUrl: orderData.preview_url,
    estimatedCompletion: orderData.estimated_completion,
    estimatedWorkdays: orderData.estimated_workdays,
    timeMargin: orderData.time_margin,
    materialType: orderData.material_type
  };

  // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
  if (orderData.operations && Array.isArray(orderData.operations)) {
    order.operations = orderData.operations.map((op: any) => ({
      opNumber: op.op_number,
      opTime: op.op_time,
      opAxes: op.op_axes,
      assignedMachine: op.assigned_machine,
      startDate: op.start_date,
      endDate: op.end_date
    }));
  } else {
    order.operations = [];
  }

  return order;
};

// –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (camelCase) –¥–ª—è API (snake_case)
export const adaptOrderForApi = (orderData: any): any => {
  const adaptedOrder: any = {
    id: orderData.id,
    machine_name: orderData.machineName,
    blueprint_number: orderData.blueprintNumber,
    start_date: orderData.startDate,
    deadline: orderData.deadline,
    quantity: Number(orderData.quantity),
    will_meet_deadline: orderData.willMeetDeadline,
    completed_quantity: orderData.completedQuantity || 0,
    remaining_quantity: orderData.remainingQuantity || orderData.quantity,
    priority: orderData.priority || 0,
    status: orderData.status || '–Ω–æ–≤—ã–π',
    pdf_path: orderData.pdfPath,
    drawing_url: orderData.drawingUrl,
    preview_url: orderData.previewUrl,
    estimated_completion: orderData.estimatedCompletion,
    estimated_workdays: orderData.estimatedWorkdays,
    time_margin: orderData.timeMargin,
    material_type: orderData.materialType
  };

  // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è API
  if (orderData.operations && Array.isArray(orderData.operations)) {
    adaptedOrder.operations = orderData.operations.map((op: any) => ({
      op_number: op.opNumber,
      op_time: op.opTime,
      op_axes: op.opAxes,
      assigned_machine: op.assignedMachine,
      start_date: op.startDate,
      end_date: op.endDate
    }));
  }

  return adaptedOrder;
};

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\api-client\ordersApi.ts
// my-front/src/api-client/ordersApi.ts
import axios from 'axios';
import { adaptOrderFromApi, adaptOrderForApi, Order } from './ordersAdapter';

const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';

// –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç–∞–Ω–∫–æ–≤
let mockMachines = [
  { id: 1, name: 'Doosan Hadasha', releaseDate: '2025-03-22', types: ['3—Ö', '4—Ö'] },
  { id: 2, name: 'Doosan Yashana', releaseDate: '2025-03-23', types: ['3—Ö', '4—Ö'] },
  { id: 3, name: 'Pinnacle Gdola', releaseDate: '2025-03-25', types: ['3—Ö', '4—Ö'] },
  { id: 4, name: 'Pinnacle Ktana', releaseDate: '2025-03-26', types: ['3—Ö'] },
  { id: 5, name: 'Mitsubishi', releaseDate: '2025-03-27', types: ['3—Ö'] },
  { id: 6, name: 'Okuma', releaseDate: '2025-03-28', types: ['—Ç–æ–∫–∞—Ä–Ω—ã–π'] },
  { id: 7, name: 'JohnFord', releaseDate: '2025-03-29', types: ['—Ç–æ–∫–∞—Ä–Ω—ã–π'] },
];

/**
 * –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API –∑–∞–ø—Ä–æ—Å–æ–≤
 */
export const handleError = (message: string, error: unknown): void => {
  console.error(message, error);
};

/**
 * –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
 */
export const fetchOrders = async (): Promise<Order[]> => {
  try {
    if (import.meta.env.VITE_USE_MOCK === 'true') {
      return []; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, —Ç.–∫. –Ω–µ—Ç –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
    }
    
    console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤');
    const response = await axios.get(`${API_URL}/orders`);
    console.log('API –æ—Ç–≤–µ—Ç:', response.data);
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
    const adaptedOrders = response.data.map((order: any) => adaptOrderFromApi(order));
    console.log('–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–æ–≤:', adaptedOrders);
    
    return adaptedOrders;
  } catch (error) {
    handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞–∫–∞–∑–æ–≤:', error);
    console.log('–í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ API');
    return [];
  }
};

/**
 * –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ø–æ ID
 */
export const getOrderById = async (id: number): Promise<Order | null> => {
  try {
    if (import.meta.env.VITE_USE_MOCK === 'true') {
      return null;
    }
    
    const response = await axios.get(`${API_URL}/orders/${id}`);
    console.log(`–ü–æ–ª—É—á–µ–Ω –∑–∞–∫–∞–∑ #${id}:`, response.data);
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
    return adaptOrderFromApi(response.data);
  } catch (error) {
    handleError(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ #${id}:`, error);
    return null;
  }
};

/**
 * –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
 */
export const createOrder = async (orderData: any) => {
  try {
    const adaptedOrder = adaptOrderForApi(orderData);
    console.log('–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å –¥–∞–Ω–Ω—ã–º–∏:', adaptedOrder);
    
    if (import.meta.env.VITE_USE_MOCK === 'true') {
      return adaptedOrder;
    }
    
    const response = await axios.post(`${API_URL}/orders`, adaptedOrder);
    return adaptOrderFromApi(response.data);
  } catch (error) {
    handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
    throw error;
  }
};

/**
 * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞
 */
export const updateOrder = async (orderData: any) => {
  try {
    const adaptedOrder = adaptOrderForApi(orderData);
    console.log(`–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ #${adaptedOrder.id}:`, adaptedOrder);
    
    if (import.meta.env.VITE_USE_MOCK === 'true') {
      return adaptedOrder;
    }
    
    const response = await axios.patch(`${API_URL}/orders/${adaptedOrder.id}`, adaptedOrder);
    return adaptOrderFromApi(response.data);
  } catch (error) {
    handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
    throw error;
  }
};

/**
 * –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
 */
export const deleteOrder = async (id: number) => {
  try {
    console.log(`–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ #${id}`);
    
    if (import.meta.env.VITE_USE_MOCK === 'true') {
      return;
    }
    
    await axios.delete(`${API_URL}/orders/${id}`);
  } catch (error) {
    handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
    throw error;
  }
};

/**
 * –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞–Ω–∫–æ–≤ - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
 */
export const fetchMachines = async () => {
  console.log('–ú–∞—à–∏–Ω—ã –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ');
  return mockMachines;
};

/**
 * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å—Ç–∞–Ω–∫–∞
 */
export const updateMachineReleaseDate = async (machineId: number, releaseDate: string) => {
  try {
    console.log(`–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å—Ç–∞–Ω–∫–∞ #${machineId} –Ω–∞ ${releaseDate}`);
    
    mockMachines = mockMachines.map(m => 
      m.id === machineId ? { ...m, releaseDate } : m
    );
    
    return mockMachines.find(m => m.id === machineId);
  } catch (error) {
    handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞—Ç—ã —Å—Ç–∞–Ω–∫–∞:', error);
    throw error;
  }
};

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\core-ui\App.tsx
import React, { Suspense, lazy } from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import Navbar from './components/Navbar';
import './styles/index.css';
import '../core-ui/styles/index.css'; // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–∏

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
const OrdersPage = lazy(() => import('../order-management/components/OrdersPage'));
const CalculationPage = lazy(() => import('../schedule-calculator/components/CalculationPage'));
const MachineScheduleCalendar = lazy(() => import('../machine-scheduler/components/MachineScheduleCalendar'));
const HomePage = lazy(() => import('./components/HomePage'));

const App: React.FC = () => (
  <div className="app-container">
    <Router>
      <Navbar />
      <div className="content-wrapper">
        <Suspense fallback={<div className="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>}>
          <Routes>
            <Route path="/" element={<HomePage />} />
            <Route path="/orders" element={<OrdersPage />} />
            <Route path="/calculation" element={<CalculationPage />} />
            <Route path="/calendar" element={<MachineScheduleCalendar />} />
            <Route path="/about" element={<div className="p-6 text-white">–û —Å–∏—Å—Ç–µ–º–µ</div>} />
          </Routes>
        </Suspense>
      </div>
    </Router>
  </div>
);

export default App;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\core-ui\components\HomePage.tsx
import React from 'react';
import { Link } from 'react-router-dom';

const HomePage: React.FC = () => {
  // –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã
  const features = [
    {
      title: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏',
      description: '–°–æ–∑–¥–∞–≤–∞–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –≤ –µ–¥–∏–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ',
      icon: 'üìã',
      link: '/orders'
    },
    {
      title: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è',
      description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å—Ç–∞–Ω–∫–æ–≤',
      icon: '‚è±Ô∏è',
      link: '/calculation'
    },
    {
      title: '–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç–∞–Ω–∫–æ–≤',
      description: '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞–Ω–∫–æ–≤ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞',
      icon: 'üìÖ',
      link: '/calendar'
    }
  ];

  return (
    <div className="py-8">
      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
      <div className="text-center mb-12">
        <h1 className="text-4xl font-bold text-white mb-4">–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º</h1>
        <p className="text-xl text-gray-300 max-w-3xl mx-auto">
          –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è
        </p>
      </div>

      {/* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-12">
        {features.map((feature, index) => (
          <Link 
            to={feature.link} 
            key={index}
            className="bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 hover:bg-gray-700"
          >
            <div className="text-4xl mb-4">{feature.icon}</div>
            <h2 className="text-xl font-semibold text-white mb-2">{feature.title}</h2>
            <p className="text-gray-300">{feature.description}</p>
          </Link>
        ))}
      </div>

      {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
      <div className="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-8 max-w-6xl mx-auto">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
          <div>
            <div className="text-4xl font-bold text-white">15+</div>
            <div className="text-gray-200">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
          </div>
          <div>
            <div className="text-4xl font-bold text-white">98%</div>
            <div className="text-gray-200">–°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
          </div>
          <div>
            <div className="text-4xl font-bold text-white">5</div>
            <div className="text-gray-200">–°—Ç–∞–Ω–∫–æ–≤ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ</div>
          </div>
        </div>
      </div>
      
      {/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
      <div className="text-center mt-12">
        <h2 className="text-2xl font-bold text-white mb-4">–ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å —Å–∏—Å—Ç–µ–º–æ–π</h2>
        <p className="text-gray-300 mb-6">
          –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –ª—é–±–æ–º—É —Ä–∞–∑–¥–µ–ª—É —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—ã—à–µ
        </p>
        <Link 
          to="/orders" 
          className="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700"
        >
          –ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–∫–∞–∑–∞–º
        </Link>
      </div>
    </div>
  );
};

export default HomePage;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\core-ui\components\Navbar.tsx
import React, { useState } from 'react';
import { NavLink } from 'react-router-dom';

const Navbar: React.FC = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  return (
    <nav className="bg-gray-800 shadow-lg">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16">
          <div className="flex items-center">
            <div className="flex-shrink-0">
              <span className="text-white text-xl font-bold">–ì–µ–Ω–æ—Å–∏—Å</span>
            </div>
            <div className="hidden md:block">
              <div className="ml-10 flex items-baseline space-x-4">
                <NavLink 
                  to="/" 
                  className={({ isActive }) => 
                    isActive 
                      ? "bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium" 
                      : "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"
                  }
                >
                  –ì–ª–∞–≤–Ω–∞—è
                </NavLink>
                <NavLink 
                  to="/orders" 
                  className={({ isActive }) => 
                    isActive 
                      ? "bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium" 
                      : "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"
                  }
                >
                  –ó–∞–∫–∞–∑—ã
                </NavLink>
                <NavLink 
                  to="/calculation" 
                  className={({ isActive }) => 
                    isActive 
                      ? "bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium" 
                      : "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"
                  }
                >
                  –†–∞—Å—á–µ—Ç
                </NavLink>
                <NavLink 
                  to="/calendar" 
                  className={({ isActive }) => 
                    isActive 
                      ? "bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium" 
                      : "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"
                  }
                >
                  –ö–∞–ª–µ–Ω–¥–∞—Ä—å
                </NavLink>
                <NavLink 
                  to="/about" 
                  className={({ isActive }) => 
                    isActive 
                      ? "bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium" 
                      : "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"
                  }
                >
                  –û —Å–∏—Å—Ç–µ–º–µ
                </NavLink>
              </div>
            </div>
          </div>
          <div className="-mr-2 flex md:hidden">
            <button
              onClick={toggleMenu}
              type="button"
              className="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none"
              aria-controls="mobile-menu"
              aria-expanded="false"
            >
              <span className="sr-only">–û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</span>
              {/* –ò–∫–æ–Ω–∫–∞ –º–µ–Ω—é */}
              {!isMenuOpen ? (
                <svg className="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              ) : (
                <svg className="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              )}
            </button>
          </div>
        </div>
      </div>
      {/* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */}
      <div className={`${isMenuOpen ? 'block' : 'hidden'} md:hidden`} id="mobile-menu">
        <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
          <NavLink 
            to="/" 
            className={({ isActive }) => 
              isActive 
                ? "bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium" 
                : "text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"
            }
            onClick={() => setIsMenuOpen(false)}
          >
            –ì–ª–∞–≤–Ω–∞—è
          </NavLink>
          <NavLink 
            to="/orders" 
            className={({ isActive }) => 
              isActive 
                ? "bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium" 
                : "text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"
            }
            onClick={() => setIsMenuOpen(false)}
          >
            –ó–∞–∫–∞–∑—ã
          </NavLink>
          <NavLink 
            to="/calculation" 
            className={({ isActive }) => 
              isActive 
                ? "bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium" 
                : "text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"
            }
            onClick={() => setIsMenuOpen(false)}
          >
            –†–∞—Å—á–µ—Ç
          </NavLink>
          <NavLink 
            to="/calendar" 
            className={({ isActive }) => 
              isActive 
                ? "bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium" 
                : "text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"
            }
            onClick={() => setIsMenuOpen(false)}
          >
            –ö–∞–ª–µ–Ω–¥–∞—Ä—å
          </NavLink>
          <NavLink 
            to="/about" 
            className={({ isActive }) => 
              isActive 
                ? "bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium" 
                : "text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"
            }
            onClick={() => setIsMenuOpen(false)}
          >
            –û —Å–∏—Å—Ç–µ–º–µ
          </NavLink>
        </div>
      </div>
    </nav>
  );
};

export default Navbar;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\core-ui\styles\App.css
/* core-ui/src/styles/App.css */
.app-container {
  min-height: 100vh;
  background: linear-gradient(135deg, #1f2937, #111827);
  color: #ffffff;
}

.content-wrapper {
  max-width: 1280px;
  margin: 0 auto;
  padding: 1.5rem;
}

.loader {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 50vh;
  color: #ffffff;
  font-size: 1.5rem;
}

.loader::after {
  content: '';
  width: 1.5rem;
  height: 1.5rem;
  margin-left: 0.5rem;
  border: 3px solid #6366F1;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.card {
  background-color: #1F2937;
  border-radius: 0.5rem;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  margin-bottom: 1rem;
  transition: transform 0.2s, box-shadow 0.2s;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
}

.page-title {
  font-size: 1.875rem;
  font-weight: 600;
  margin-bottom: 1.5rem;
  color: #ffffff;
  border-bottom: 2px solid #4F46E5;
  padding-bottom: 0.5rem;
  display: inline-block;
}

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\core-ui\styles\globals.css
/* core-ui/src/styles/globals.css */

html, body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  background-color: #1F2937;
  color: #fff;
}

* {
  box-sizing: border-box;
} 


================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\core-ui\styles\index.css
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #1F2937;
  color: #fff;
} 


================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\dir app\index.ts
import React from 'react';
import { createRoot } from 'react-dom/client';
import App from '../../../frontend_new2/App';

console.log('Starting React app...');
const container = document.getElementById('root');
if (!container) {
  console.error('Container #root not found!');
} else {
  console.log('Container found, rendering...');
  const root = createRoot(container);
  root.render(
    React.createElement(App)
  );
  console.log('Render complete');
}

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\document-viewer\components\PdfViewer.tsx
import React from 'react';
import { Button } from '../../ui-components/components/Button';

interface PdfViewerProps {
  url: string;
}

const PdfViewer: React.FC<PdfViewerProps> = ({ url }) => (
  <div className="p-6 bg-gray-900 min-h-screen">
    <h1 className="text-2xl font-bold text-white mb-6">–ü—Ä–æ—Å–º–æ—Ç—Ä PDF</h1>
    <Button variant="primary" onClick={() => window.open(url, '_blank')}>
      –û—Ç–∫—Ä—ã—Ç—å PDF
    </Button>
  </div>
);

export default PdfViewer;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\machine-scheduler\components\MachineOrdersList.tsx
 
import React from 'react';
import { Button } from '../../ui-components/components/Button';



interface MachineOrdersListProps {
  machineId: number;
  orders: any[];
  onRemoveOrder: (orderId: number) => void;
}

const MachineOrdersList: React.FC<MachineOrdersListProps> = ({ machineId, orders, onRemoveOrder }) => {
  const machineOrders = orders.filter(order =>
    order.operations.some((op: any) => op.machineId === machineId)
  );
  // const isWeekend = (date: Date): boolean => {
  //   const day = date.getDay();
  //   return day === 0 || day === 6; // 0 - –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 6 - —Å—É–±–±–æ—Ç–∞
  // };

  return (
    <div className="bg-gray-800 rounded-xl p-4">
      <h2 className="text-lg font-semibold text-white mb-4">–ó–∞–∫–∞–∑—ã –Ω–∞ —Å—Ç–∞–Ω–∫–µ</h2>
      {machineOrders.length === 0 ? (
        <p className="text-gray-400">–ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
      ) : (
        <ul className="space-y-2">
          {machineOrders.map(order => (
            <li key={order.id} className="flex justify-between items-center bg-gray-700 p-2 rounded">
              <span className="text-white">{order.blueprintNumber}</span>
              <Button variant="danger" size="sm" onClick={() => onRemoveOrder(order.id)}>
                –£–¥–∞–ª–∏—Ç—å
              </Button>
            </li>
          ))}
        </ul>
      )}
    </div>
  );
};

export default MachineOrdersList;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\machine-scheduler\components\MachineScheduleCalendar.tsx
// src/machine-scheduler/components/MachineScheduleCalendar.tsx
import React, { useState, useEffect } from 'react';
import { fetchOrders, fetchMachines } from '../../api-client/ordersApi';
import { 
  addDays, 
  format, 
  eachDayOfInterval, 
  getDay, 
  differenceInDays, 
  isWithinInterval,
  isSameDay
} from 'date-fns';
import { ru } from 'date-fns/locale';
import { 
  isWeekendIsrael, 
  getHolidayStatusIsrael, 
  getAvailableHoursInDay
} from '../../utils/utils';

interface CalendarItem {
  date: Date;
  isWeekend: boolean;
  isHoliday: boolean;
  isHalfDay: boolean;
  operations: OrderOperation[];
}

interface MachineSchedule {
  machineId: number;
  machineName: string;
  calendar: CalendarItem[];
}

interface OrderOperation {
  orderId: number;
  orderNumber: string;
  operationNumber: number;
  quantity: number;
  startDate: Date;
  endDate: Date;
  machineName: string;
  machineId: number;
  deadline: string;
  opTime: number;
  opAxes: string;
}

const MachineScheduleCalendar: React.FC = () => {
  const [machines, setMachines] = useState<any[]>([]);
  const [operationSchedules, setOperationSchedules] = useState<OrderOperation[]>([]);
  const [machineSchedules, setMachineSchedules] = useState<MachineSchedule[]>([]);
  const [selectedMachine, setSelectedMachine] = useState<string | null>(null);
  const [startDate, setStartDate] = useState<Date>(new Date());
  const [endDate, setEndDate] = useState<Date>(addDays(new Date(), 30)); // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 –º–µ—Å—è—Ü
  const [loading, setLoading] = useState<boolean>(true);
  const [error, setError] = useState<string | null>(null);
  const [viewMode, setViewMode] = useState<'calendar' | 'gantt'>('calendar');

  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  useEffect(() => {
    const loadData = async () => {
      setLoading(true);
      try {
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞–Ω–∫–∏ –∏ –∑–∞–∫–∞–∑—ã
        const [machinesData, ordersData] = await Promise.all([
          fetchMachines(),
          fetchOrders()
        ]);

        console.log('–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å—Ç–∞–Ω–∫–æ–≤:', machinesData.length);
        console.log('–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤:', ordersData.length);

        setMachines(machinesData);
        
        if (machinesData.length > 0 && !selectedMachine) {
          setSelectedMachine(machinesData[0].name);
        }

        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ –∑–∞–∫–∞–∑–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        const allOperations: OrderOperation[] = [];
        
        ordersData.forEach((order: any) => {
          if (order.operations && order.operations.length > 0) {
            order.operations.forEach((op: any) => {
              if (op.assignedMachine && op.startDate && op.endDate) {
                const machineObj = machinesData.find((m: any) => m.name === op.assignedMachine);
                
                allOperations.push({
                  orderId: order.id,
                  orderNumber: order.blueprintNumber,
                  operationNumber: op.opNumber,
                  quantity: order.quantity,
                  startDate: new Date(op.startDate),
                  endDate: new Date(op.endDate),
                  machineName: op.assignedMachine,
                  machineId: machineObj ? machineObj.id : 0,
                  deadline: order.deadline,
                  opTime: op.opTime,
                  opAxes: op.opAxes
                });
              }
            });
          }
        });

        console.log('–°–æ–∑–¥–∞–Ω–æ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è:', allOperations.length);
        setOperationSchedules(allOperations);
        setError(null);
      } catch (err) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', err);
        setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è');
      } finally {
        setLoading(false);
      }
    };

    loadData();
  }, [selectedMachine]);

  // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–Ω–∫–∞
  useEffect(() => {
    if (machines.length === 0) return;

    // –§–æ—Ä–º–∏—Ä—É–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–Ω–∫–∞
    const schedules: MachineSchedule[] = machines.map(machine => {
      // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–Ω–∏ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–∞—Ç
      const days = eachDayOfInterval({ start: startDate, end: endDate });
      
      // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –¥–Ω–µ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è
      const calendar: CalendarItem[] = days.map(day => {
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å –≤—ã—Ö–æ–¥–Ω—ã–º –∏–ª–∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º –≤ –ò–∑—Ä–∞–∏–ª–µ
        const isWeekendDay = isWeekendIsrael(day);
        const holidayStatus = getHolidayStatusIsrael(day);
        const isHolidayDay = !!holidayStatus && holidayStatus.isFullDay === true;
        const isHalfDayWork = !!holidayStatus && holidayStatus.isHalfDay === true;
        
        // –ù–∞—Ö–æ–¥–∏–º –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –Ω–∞ —ç—Ç–æ–º —Å—Ç–∞–Ω–∫–µ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å
        const dayOperations = operationSchedules.filter(op => {
          const isRelevantMachine = op.machineName === machine.name;
          
          // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–µ–Ω—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
          const isWithinDateRange = isWithinInterval(day, {
            start: op.startDate,
            end: op.endDate
          });
          
          return isRelevantMachine && isWithinDateRange;
        });
        
        return {
          date: day,
          isWeekend: isWeekendDay,
          isHoliday: isHolidayDay,
          isHalfDay: isHalfDayWork,
          operations: dayOperations
        };
      });
      
      return {
        machineId: machine.id,
        machineName: machine.name,
        calendar
      };
    });
    
    setMachineSchedules(schedules);
    
  }, [machines, operationSchedules, startDate, endDate]);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã
  const handleStartDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newDate = new Date(e.target.value);
    setStartDate(newDate);
    
    // –ï—Å–ª–∏ –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ —Ä–∞–Ω—å—à–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–ª—é—Å 7 –¥–Ω–µ–π, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –µ—ë
    if (endDate <= addDays(newDate, 7)) {
      setEndDate(addDays(newDate, 30));
    }
  };

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–π –¥–∞—Ç—ã
  const handleEndDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newDate = new Date(e.target.value);
    setEndDate(newDate);
  };

  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∏–¥–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const toggleViewMode = () => {
    setViewMode(viewMode === 'calendar' ? 'gantt' : 'calendar');
  };

  // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞
  const renderSelectedMachineCalendar = () => {
    if (!selectedMachine) return null;
    
    const machineSchedule = machineSchedules.find(s => s.machineName === selectedMachine);
    if (!machineSchedule) return null;
    
    const months: { [key: string]: CalendarItem[] } = {};
    
    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –¥–Ω–∏ –ø–æ –º–µ—Å—è—Ü–∞–º
    machineSchedule.calendar.forEach(item => {
      const monthKey = format(item.date, 'yyyy-MM');
      if (!months[monthKey]) {
        months[monthKey] = [];
      }
      months[monthKey].push(item);
    });
    
    return (
      <div className="space-y-8">
        {Object.keys(months).map(monthKey => {
          const monthName = format(new Date(months[monthKey][0].date), 'LLLL yyyy', { locale: ru });
          
          return (
            <div key={monthKey} className="bg-gray-800 rounded-xl p-4">
              <h3 className="text-xl font-semibold capitalize mb-4">{monthName}</h3>
              <div className="grid grid-cols-7 gap-1">
                {/* –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ */}
                {['–í—Å', '–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±'].map(day => (
                  <div key={day} className="text-center font-medium py-2 border-b border-gray-700">
                    {day}
                  </div>
                ))}
                
                {/* –ó–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è */}
                {Array.from({ length: getDay(months[monthKey][0].date) }).map((_, i) => (
                  <div key={`empty-start-${i}`} className="h-36"></div>
                ))}
                
                {/* –î–Ω–∏ –º–µ—Å—è—Ü–∞ */}
                {months[monthKey].map(day => {
                  const dayOfMonth = format(day.date, 'd');
                  const availableHours = getAvailableHoursInDay(day.date);
                  
                  return (
                    <div
                      key={format(day.date, 'yyyy-MM-dd')}
                      className={`
                        h-36 border border-gray-700 p-1 relative overflow-hidden
                        ${day.isWeekend ? 'bg-gray-900 opacity-60' : ''}
                        ${day.isHoliday ? 'bg-purple-900 opacity-60' : ''}
                        ${day.isHalfDay ? 'bg-purple-800 opacity-40' : ''}
                      `}
                    >
                      <div className="text-sm font-semibold mb-1">
                        {dayOfMonth}
                        {day.isWeekend && <span className="ml-1 text-yellow-400">(–≤—ã—Ö)</span>}
                        {day.isHoliday && <span className="ml-1 text-purple-400">(–ø—Ä–∞–∑–¥–Ω–∏–∫)</span>}
                        {day.isHalfDay && <span className="ml-1 text-purple-300">(–¥–æ 13:00)</span>}
                        {!day.isWeekend && !day.isHoliday && 
                          <span className="ml-1 text-green-400">({availableHours}—á)</span>
                        }
                      </div>
                      <div className="overflow-y-auto h-28 text-xs">
                        {day.operations.map((op, idx) => {
                          // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –¥–µ–¥–ª–∞–π–Ω–∞
                          const deadlineDate = new Date(op.deadline);
                          
                          // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞
                          const isDeadlineClose = differenceInDays(deadlineDate, day.date) <= 7 && differenceInDays(deadlineDate, day.date) >= 0;
                          const isOverdue = day.date > deadlineDate;
                          
                          // –í—ã–¥–µ–ª—è–µ–º –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Å—Ç–∏–ª–µ–º
                          const isFirstDay = isSameDay(day.date, op.startDate);
                          const isLastDay = isSameDay(day.date, op.endDate);
                          
                          return (
                            <div 
                              key={`${op.orderId}-${op.operationNumber}-${idx}`}
                              className={`p-1 mb-1 rounded text-white cursor-pointer ${
                                isOverdue ? 'bg-red-800' : 
                                isDeadlineClose ? 'bg-yellow-800' : 
                                'bg-indigo-900'
                              } ${isFirstDay ? 'border-l-4 border-green-500' : ''} 
                                 ${isLastDay ? 'border-r-4 border-blue-500' : ''}`}
                            >
                              <div className="font-semibold truncate">{op.orderNumber}</div>
                              <div>ID: {op.orderId}</div>
                              <div className="flex justify-between">
                                <span>–û–ø. #{op.operationNumber}</span>
                                <span>–ö–æ–ª-–≤–æ: {op.quantity}</span>
                              </div>
                              <div className="text-xs">
                                –°—Ä–æ–∫: {format(deadlineDate, 'dd.MM.yyyy')}
                              </div>
                              {isFirstDay && (
                                <div className="text-xs mt-1 text-green-300">
                                  –ù–∞—á–∞–ª–æ: {format(op.startDate, 'dd.MM HH:mm')}
                                </div>
                              )}
                              {isLastDay && (
                                <div className="text-xs mt-1 text-blue-300">
                                  –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ: {format(op.endDate, 'dd.MM HH:mm')}
                                </div>
                              )}
                            </div>
                          );
                        })}
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          );
        })}
      </div>
    );
  };

  // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã –ì–∞–Ω—Ç–∞ –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞–Ω–∫–æ–≤
  const renderGanttChart = () => {
    if (operationSchedules.length === 0) return (
      <div className="text-center py-10 bg-gray-800 rounded-xl">
        <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Å—Ç–∞–Ω–∫–∞–º.</p>
      </div>
    );
    
    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞–Ω–∫–∞–º
    const operationsByMachine: { [key: string]: OrderOperation[] } = {};
    
    operationSchedules.forEach(op => {
      if (!operationsByMachine[op.machineName]) {
        operationsByMachine[op.machineName] = [];
      }
      operationsByMachine[op.machineName].push(op);
    });
    
    return (
      <div className="bg-gray-800 rounded-xl p-4">
        <h3 className="text-xl font-semibold mb-4">–î–∏–∞–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞–Ω–∫–æ–≤</h3>
        
        <div className="overflow-x-auto">
          <div className="min-w-max"> {/* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É */}
            {/* –®–∫–∞–ª–∞ –≤—Ä–µ–º–µ–Ω–∏ */}
            <div className="flex border-b border-gray-700 mb-2">
              <div className="w-40 shrink-0"></div> {/* –ú–µ—Å—Ç–æ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Å—Ç–∞–Ω–∫–æ–≤ */}
              {eachDayOfInterval({ start: startDate, end: endDate }).map(date => {
                const isWeekendDay = isWeekendIsrael(date);
                const holidayStatus = getHolidayStatusIsrael(date);
                const isHolidayDay = !!holidayStatus && holidayStatus.isFullDay === true;
                const isHalfDayWork = !!holidayStatus && holidayStatus.isHalfDay === true;
                
                return (
                  <div 
                    key={format(date, 'yyyy-MM-dd')}
                    className={`w-8 text-center text-xs py-1 ${
                      isHolidayDay ? 'bg-purple-800' : 
                      isHalfDayWork ? 'bg-purple-700' :
                      isWeekendDay ? 'bg-gray-700' : ''
                    }`}
                  >
                    {format(date, 'd')}
                  </div>
                );
              })}
            </div>
            
            {/* –ú–µ—Å—è—Ü—ã –Ω–∞–¥ —à–∫–∞–ª–æ–π –≤—Ä–µ–º–µ–Ω–∏ */}
            <div className="flex border-b border-gray-700 mb-4 mt-[-40px]">
              <div className="w-40 shrink-0"></div>
              {Object.entries(
                eachDayOfInterval({ start: startDate, end: endDate }).reduce((acc: {[key: string]: number}, date) => {
                  const month = format(date, 'yyyy-MM');
                  if (!acc[month]) acc[month] = 0;
                  acc[month]++;
                  return acc;
                }, {})
              ).map(([month, days]) => {
                const monthDate = new Date(month);
                return (
                  <div 
                    key={month}
                    className="flex-shrink-0 h-8 text-center text-xs py-1 border-r border-gray-700"
                    style={{ width: `${days * 8}px` }}
                  >
                    {format(monthDate, 'LLLL', { locale: ru })}
                  </div>
                );
              })}
            </div>
            
            {/* –†—è–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–Ω–∫–∞ */}
            {Object.entries(operationsByMachine).map(([machineName, operations]) => (
              <div key={machineName} className="flex mb-3 relative">
                <div className="w-40 shrink-0 p-2 font-medium">
                  {machineName}
                </div>
                
                <div className="flex-grow relative h-10 bg-gray-900">
                  {/* –û—Ç–º–µ—á–∞–µ–º –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏ –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ */}
                  {eachDayOfInterval({ start: startDate, end: endDate }).map(date => {
                    const isWeekendDay = isWeekendIsrael(date);
                    const holidayStatus = getHolidayStatusIsrael(date);
                    const isHolidayDay = !!holidayStatus && holidayStatus.isFullDay === true;
                    const isHalfDayWork = !!holidayStatus && holidayStatus.isHalfDay === true;
                    
                    if (!isWeekendDay && !isHolidayDay && !isHalfDayWork) return null;
                    
                    const dayIndex = Math.floor((date.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));
                    
                    return (
                      <div 
                        key={format(date, 'yyyy-MM-dd')}
                        className={`absolute h-full ${
                          isHolidayDay ? 'bg-purple-800 opacity-50' : 
                          isHalfDayWork ? 'bg-purple-700 opacity-30' :
                          'bg-gray-800 opacity-50'
                        }`}
                        style={{ 
                          left: `${dayIndex * 8}px`, 
                          width: '8px' 
                        }}
                      ></div>
                    );
                  })}
                  
                  {/* –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ */}
                  {operations.map(op => {
                    const startDayIndex = Math.max(0, Math.floor((op.startDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24)));
                    const endDayIndex = Math.floor((op.endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));
                    const durationDays = Math.max(1, endDayIndex - startDayIndex + 1);
                    
                    if (startDayIndex < 0 && endDayIndex < 0) return null; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–µ–¥–ª–∞–π–Ω –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞
                    const deadlineDate = new Date(op.deadline);
                    const isOverdue = op.endDate > deadlineDate;
                    const isCloseToDeadline = differenceInDays(deadlineDate, op.endDate) <= 7 && !isOverdue;
                    
                    return (
                      <div 
                        key={`${op.orderId}-${op.operationNumber}`}
                        className={`absolute h-8 rounded text-xs flex items-center justify-center overflow-hidden cursor-pointer ${
                          isOverdue ? 'bg-red-700' : 
                          isCloseToDeadline ? 'bg-yellow-700' : 
                          'bg-indigo-700'
                        }`}
                        style={{ 
                          left: `${startDayIndex * 8}px`, 
                          width: `${durationDays * 8}px`,
                          top: '4px'
                        }}
                        title={`ID: ${op.orderId}, –ß–µ—Ä—Ç–µ–∂: ${op.orderNumber}, –û–ø–µ—Ä–∞—Ü–∏—è #${op.operationNumber}, –ö–æ–ª-–≤–æ: ${op.quantity}, –°—Ä–æ–∫: ${format(deadlineDate, 'dd.MM.yyyy')}`}
                      >
                        <span className="truncate px-1">{op.orderNumber} #{op.operationNumber}</span>
                      </div>
                    );
                  })}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    );
  };

  return (
    <div className="p-6 bg-gray-900 min-h-screen">
      <h1 className="text-2xl font-bold text-white mb-6">–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç–∞–Ω–∫–æ–≤ (–ò–∑—Ä–∞–∏–ª—å)</h1>
      
      {loading ? (
        <div className="text-center py-10">
          <div className="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"></div>
          <p className="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
        </div>
      ) : error ? (
        <div className="bg-red-800 p-4 rounded-xl mb-6">
          <p>{error}</p>
          <button 
            className="mt-2 px-4 py-2 bg-white text-red-800 rounded hover:bg-gray-200"
            onClick={() => window.location.reload()}
          >
            –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
          </button>
        </div>
      ) : (
        <>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div>
              <label className="block text-sm mb-2">–°—Ç–∞–Ω–æ–∫:</label>
              <select
                value={selectedMachine || ''}
                onChange={(e) => setSelectedMachine(e.target.value)}
                className="w-full p-3 rounded bg-gray-700 text-white"
              >
                {machines.map(machine => (
                  <option key={machine.id} value={machine.name}>
                    {machine.name}
                  </option>
                ))}
              </select>
            </div>
            <div>
              <label className="block text-sm mb-2">–ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞:</label>
              <input
                type="date"
                value={format(startDate, 'yyyy-MM-dd')}
                onChange={handleStartDateChange}
                className="w-full p-3 rounded bg-gray-700 text-white"
              />
            </div>
            <div>
              <label className="block text-sm mb-2">–ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞:</label>
              <input
                type="date"
                value={format(endDate, 'yyyy-MM-dd')}
                onChange={handleEndDateChange}
                className="w-full p-3 rounded bg-gray-700 text-white"
              />
            </div>
          </div>

          <div className="bg-gray-800 rounded-xl p-4 mb-8">
            <div className="flex flex-wrap justify-between items-center">
              <div className="flex flex-wrap gap-4 mb-4 md:mb-0">
                <div className="flex items-center">
                  <div className="w-4 h-4 bg-gray-900 opacity-60 mr-2"></div>
                  <span>–í—ã—Ö–æ–¥–Ω—ã–µ (–ü—Ç, –°–±)</span>
                </div>
                <div className="flex items-center">
                  <div className="w-4 h-4 bg-purple-900 opacity-60 mr-2"></div>
                  <span>–ü—Ä–∞–∑–¥–Ω–∏–∫–∏ –ò–∑—Ä–∞–∏–ª—è</span>
                </div>
                <div className="flex items-center">
                  <div className="w-4 h-4 bg-purple-800 opacity-40 mr-2"></div>
                  <span>–ü–æ–ª–¥–Ω—è (–¥–æ 13:00)</span>
                </div>
                <div className="flex items-center">
                  <div className="w-4 h-4 bg-indigo-700 mr-2"></div>
                  <span>–í —Å—Ä–æ–∫–µ</span>
                </div>
                <div className="flex items-center">
                  <div className="w-4 h-4 bg-yellow-700 mr-2"></div>
                  <span>–ë–ª–∏–∑–∫–æ –∫ —Å—Ä–æ–∫—É</span>
                </div>
                <div className="flex items-center">
                  <div className="w-4 h-4 bg-red-700 mr-2"></div>
                  <span>–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</span>
                </div>
              </div>
              
              <button
                className="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition"
                onClick={toggleViewMode}
              >
                {viewMode === 'calendar' ? '–ü–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É' : '–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å'}
              </button>
            </div>
          </div>

          {viewMode === 'gantt' ? (
            <div className="mb-10">
              <h2 className="text-2xl font-semibold mb-4">–î–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞</h2>
              {renderGanttChart()}
            </div>
          ) : (
            <div>
              <h2 className="text-2xl font-semibold mb-4">–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ –º–µ—Å—è—Ü–∞–º –¥–ª—è {selectedMachine}</h2>
              {renderSelectedMachineCalendar()}
            </div>
          )}
        </>
      )}
    </div>
  );
};

export default MachineScheduleCalendar;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\machine-scheduler\components\SequentialOperationsView.tsx
import React from 'react';
import { calculateWorkingDays } from '../../utils/utils';

interface SequentialOperationsViewProps {
  operations: any[];
}

const SequentialOperationsView: React.FC<SequentialOperationsViewProps> = ({ operations }) => {
  return (
    <div className="bg-gray-800 rounded-xl p-4">
      <h2 className="text-lg font-semibold text-white mb-4">–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
      {operations.length === 0 ? (
        <p className="text-gray-400">–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</p>
      ) : (
        <ul className="space-y-2">
          {operations.map((op, index) => (
            <li key={op.id} className="bg-gray-700 p-2 rounded text-white">
              <span>–û–ø–µ—Ä–∞—Ü–∏—è #{op.opNumber}: {op.opAxes}</span>
              <span className="ml-2">–í—Ä–µ–º—è: {op.opTime} –º–∏–Ω</span>
              {index > 0 && (
                <span className="ml-2">
                  –ò–Ω—Ç–µ—Ä–≤–∞–ª: {calculateWorkingDays(new Date(operations[index - 1].endDate), new Date(op.startDate))} –¥–Ω–µ–π
                </span>
              )}
            </li>
          ))}
        </ul>
      )}
    </div>
  );
};

export default SequentialOperationsView; 


================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\machine-scheduler\models\ScheduleModels.ts
 
export interface Machine {
  id: number;
  name: string;
  releaseDate: string;
}

export interface Operation {
  id: number;
  machineId: number;
  opNumber: number;
  opTime: number;
  opAxes: string;
}

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\order-management\api\ordersApi.ts
 //my-front\src\order-management\api\ordersApi.ts

 import axios from 'axios';
 import { handleError } from '../../utils/utils';
 
 const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';
 
 let mockOrders = [
   { id: 1, blueprintNumber: 'BP001', quantity: 10, deadline: '2025-04-01', status: '–Ω–æ–≤—ã–π', operations: [], pdfFile: null },
   { id: 2, blueprintNumber: 'BP002', quantity: 5, deadline: '2025-03-25', status: '–≤ —Ä–∞–±–æ—Ç–µ', operations: [], pdfFile: null },
   { id: 3, blueprintNumber: 'BP003', quantity: 20, deadline: '2025-04-10', status: '–Ω–æ–≤—ã–π', operations: [], pdfFile: null },
   { id: 4, blueprintNumber: 'BP004', quantity: 15, deadline: '2025-03-30', status: '–≤ —Ä–∞–±–æ—Ç–µ', operations: [], pdfFile: null },
   { id: 5, blueprintNumber: 'BP005', quantity: 8, deadline: '2025-04-15', status: '–∑–∞–≤–µ—Ä—à–µ–Ω', operations: [], pdfFile: null },
 ];
 
 export const fetchOrders = async () => {
  try {
    if (import.meta.env.VITE_USE_MOCK === 'true') {
      return mockOrders;
    }
    const response = await axios.get(`${API_URL}/orders`);
    console.log('API –æ—Ç–≤–µ—Ç:', response.data); // –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    return response.data;
  } catch (error) {
    handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞–∫–∞–∑–æ–≤:', error);
    console.log('–í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–æ–≤ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ API');
    return mockOrders;
  }
};
 
 export const createOrder = async (orderData: any) => {
   try {
     if (import.meta.env.VITE_USE_MOCK === 'true') {
       const newOrder = { ...orderData, id: Date.now() };
       mockOrders.push(newOrder);
       return newOrder;
     }
     const response = await axios.post(`${API_URL}/orders`, orderData);
     return response.data;
   } catch (error) {
     handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
     // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ñ–∞–±—Ä–∏–∫–æ–≤–∞–Ω–Ω—ã–π –∑–∞–∫–∞–∑ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
     const newOrder = { ...orderData, id: Date.now() };
     mockOrders.push(newOrder);
     return newOrder;
   }
 };
 
 export const updateOrder = async (orderData: any) => {
   try {
     if (import.meta.env.VITE_USE_MOCK === 'true') {
       mockOrders = mockOrders.map(o => (o.id === orderData.id ? orderData : o));
       return orderData;
     }
     const response = await axios.put(`${API_URL}/orders/${orderData.id}`, orderData);
     return response.data;
   } catch (error) {
     handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
     // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
     mockOrders = mockOrders.map(o => (o.id === orderData.id ? orderData : o));
     return orderData;
   }
 };
 
 export const deleteOrder = async (id: number) => {
   try {
     if (import.meta.env.VITE_USE_MOCK === 'true') {
       mockOrders = mockOrders.filter(o => o.id !== id);
       return;
     }
     await axios.delete(`${API_URL}/orders/${id}`);
   } catch (error) {
     handleError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
     // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ —É–¥–∞–ª—è–µ–º –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
     mockOrders = mockOrders.filter(o => o.id !== id);
   }
 };

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\order-management\components\OrderDetailView.tsx
import React from 'react';
import { Button } from '../../ui-components/components/Button';

interface OrderDetailViewProps {
  order: any;
  onClose: () => void;
}

const OrderDetailView: React.FC<OrderDetailViewProps> = ({ order, onClose }) => {
  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <div className="bg-gray-800 p-6 rounded-lg w-96">
        <h2 className="text-xl font-semibold text-white mb-4">–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h2>
        <p className="text-gray-300 mb-2"><strong>–ù–æ–º–µ—Ä —á–µ—Ä—Ç–µ–∂–∞:</strong> {order.blueprintNumber}</p>
        <p className="text-gray-300 mb-2"><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</strong> {order.quantity} —à—Ç.</p>
        <p className="text-gray-300 mb-2"><strong>–°—Ä–æ–∫:</strong> {order.deadline || '–ù–µ —É–∫–∞–∑–∞–Ω'}</p>
        <p className="text-gray-300 mb-2"><strong>–°—Ç–∞—Ç—É—Å:</strong> {order.status}</p>
        {order.operations && order.operations.length > 0 && (
          <div className="mb-4">
            <p className="text-gray-300 mb-1"><strong>–û–ø–µ—Ä–∞—Ü–∏–∏:</strong></p>
            <ul className="text-gray-300 text-sm">
              {order.operations.map((op: any) => (
                <li key={op.id}>#{op.opNumber}: {op.opAxes}, {op.opTime} –º–∏–Ω</li>
              ))}
            </ul>
          </div>
        )}
        {order.pdfFile && (
          <p className="text-gray-300 mb-4">
            <strong>PDF:</strong> <a href={order.pdfFile} target="_blank" className="text-indigo-400">–û—Ç–∫—Ä—ã—Ç—å</a>
          </p>
        )}
        <div className="flex justify-end">
          <Button variant="secondary" onClick={onClose}>
            –ó–∞–∫—Ä—ã—Ç—å
          </Button>
        </div>
      </div>
    </div>
  );
};

export default OrderDetailView;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\order-management\components\OrderForm.tsx
import React, { useState, useCallback, useEffect } from 'react';
import { Button } from '../../ui-components/components/Button';
import { Input } from '../../ui-components/components/Input';
import { format } from 'date-fns';

interface OrderFormProps {
  order?: any;
  onSubmit: (orderData: any) => void;
  onClose: () => void;
}

// –û–ø—Ä–µ–¥–µ–ª–∏–º —Ç–∏–ø—ã –¥–ª—è —Å–æ–±—ã—Ç–∏–π
interface FileInputEvent extends React.ChangeEvent<HTMLInputElement> {
  target: HTMLInputElement & {
    files: FileList | null;
  };
}

interface InputChangeEvent extends React.ChangeEvent<HTMLInputElement> {
  target: HTMLInputElement & {
    value: string;
  };
}

interface SelectChangeEvent extends React.ChangeEvent<HTMLSelectElement> {
  target: HTMLSelectElement & {
    value: string;
  };
}

const OrderForm: React.FC<OrderFormProps> = ({ order, onSubmit, onClose }) => {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º—ã
  const [formData, setFormData] = useState({
    id: order?.id || Date.now(),
    blueprintNumber: order?.blueprintNumber || '',
    quantity: order?.quantity || '',
    deadline: order?.deadline ? format(new Date(order.deadline), 'yyyy-MM-dd') : format(new Date(), 'yyyy-MM-dd'),
    status: order?.status || '–Ω–æ–≤—ã–π',
    operations: order?.operations || [],
    pdfFile: order?.pdfFile || null,
    priority: order?.priority || 1,
    materialType: order?.materialType || '',
  });

  // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
  const [errors, setErrors] = useState<Record<string, string>>({});
  const [isFormValid, setIsFormValid] = useState(false);

  // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
  useEffect(() => {
    const newErrors: Record<string, string> = {};
    
    if (!formData.blueprintNumber.trim()) {
      newErrors.blueprintNumber = '–ù–æ–º–µ—Ä —á–µ—Ä—Ç–µ–∂–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω';
    }
    
    if (!formData.quantity) {
      newErrors.quantity = '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ';
    } else if (Number(formData.quantity) <= 0) {
      newErrors.quantity = '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ –Ω—É–ª—è';
    }
    
    setErrors(newErrors);
    setIsFormValid(Object.keys(newErrors).length === 0);
  }, [formData]);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
  const handleChange = useCallback((field: string, value: any) => {
    setFormData(prev => ({ ...prev, [field]: value }));
  }, []);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–∞–π–ª–∞ PDF
  const handleFileChange = useCallback((e: FileInputEvent) => {
    const file = e.target.files?.[0] || null;
    setFormData(prev => ({ ...prev, pdfFile: file }));
  }, []);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
  const handleSubmit = useCallback((e: React.FormEvent) => {
    e.preventDefault();
    if (isFormValid) {
      onSubmit(formData);
    }
  }, [formData, isFormValid, onSubmit]);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
  const addOperation = useCallback(() => {
    const newOperation = {
      id: Date.now(),
      machineId: 0,
      opNumber: formData.operations.length + 1,
      opTime: 0,
      opAxes: '3—Ö',
    };
    
    setFormData(prev => ({
      ...prev,
      operations: [...prev.operations, newOperation],
    }));
  }, [formData.operations]);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
  const updateOperation = useCallback((opId: number, field: string, value: any) => {
    setFormData(prev => ({
      ...prev,
      operations: prev.operations.map((op: any) =>
        op.id === opId ? { ...op, [field]: value } : op
      ),
    }));
  }, []);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–¥–∞–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
  const removeOperation = useCallback((opId: number) => {
    setFormData(prev => ({
      ...prev,
      operations: prev.operations.filter((op: any) => op.id !== opId),
    }));
  }, []);

  return (
    <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
      <div className="bg-gray-800 rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto">
        <div className="sticky top-0 bg-gray-800 p-4 border-b border-gray-700 rounded-t-lg">
          <div className="flex justify-between items-center">
            <h2 className="text-xl font-semibold text-white">
              {order ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫–∞–∑' : '–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑'}
            </h2>
            <button 
              onClick={onClose}
              className="text-gray-400 hover:text-white"
            >
              <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
        </div>
        
        <form onSubmit={handleSubmit} className="p-4">
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –ù–æ–º–µ—Ä —á–µ—Ä—Ç–µ–∂–∞
            </label>
            <Input
              value={formData.blueprintNumber}
              onChange={(e: InputChangeEvent) => handleChange('blueprintNumber', e.target.value)}
              placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —á–µ—Ä—Ç–µ–∂–∞"
              error={errors.blueprintNumber}
            />
          </div>
          
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
            </label>
            <Input
              type="number"
              value={formData.quantity}
              onChange={(e: InputChangeEvent) => handleChange('quantity', e.target.value)}
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ"
              error={errors.quantity}
            />
          </div>
          
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            </label>
            <div className="relative">
              <Input
                type="date"
                value={formData.deadline}
                onChange={(e: InputChangeEvent) => handleChange('deadline', e.target.value)}
              />
              <div 
                className="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer"
                onClick={() => {
                  // –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º input –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
                  const input = document.querySelector('input[type="date"]');
                  if (input) {
                    (input as HTMLElement).click();
                  }
                }}
              >
                <svg className="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              </div>
            </div>
          </div>
          
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –°—Ç–∞—Ç—É—Å
            </label>
            <select
              value={formData.status}
              onChange={(e: SelectChangeEvent) => handleChange('status', e.target.value)}
              className="w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            >
              <option value="–Ω–æ–≤—ã–π">–ù–æ–≤—ã–π</option>
              <option value="–≤ —Ä–∞–±–æ—Ç–µ">–í —Ä–∞–±–æ—Ç–µ</option>
              <option value="–∑–∞–≤–µ—Ä—à–µ–Ω">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
            </select>
          </div>
          
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
            </label>
            <select
              value={formData.priority}
              onChange={(e: SelectChangeEvent) => handleChange('priority', parseInt(e.target.value))}
              className="w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            >
              <option value="1">–û–±—ã—á–Ω—ã–π (1)</option>
              <option value="2">–í—ã—Å–æ–∫–∏–π (2)</option>
              <option value="3">–°—Ä–æ—á–Ω—ã–π (3)</option>
            </select>
          </div>
          
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –ú–∞—Ç–µ—Ä–∏–∞–ª
            </label>
            <Input
              value={formData.materialType}
              onChange={(e: InputChangeEvent) => handleChange('materialType', e.target.value)}
              placeholder="–¢–∏–ø –º–∞—Ç–µ—Ä–∏–∞–ª–∞"
            />
          </div>
          
          <div className="mb-4">
            <label className="block text-gray-300 text-sm font-medium mb-1">
              –ß–µ—Ä—Ç–µ–∂ (PDF —Ñ–∞–π–ª)
            </label>
            <div className="flex items-center">
              <input
                type="file"
                onChange={handleFileChange as any} // –ò—Å–ø–æ–ª—å–∑—É–µ–º cast –∫ any –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
                className="hidden"
                id="pdf-upload"
                accept=".pdf"
              />
              <label 
                htmlFor="pdf-upload"
                className="cursor-pointer bg-gray-700 text-white py-2 px-4 rounded border border-gray-600 hover:bg-gray-600"
              >
                –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
              </label>
              <span className="ml-2 text-gray-300 text-sm">
                {formData.pdfFile ? formData.pdfFile.name || '–§–∞–π–ª –≤—ã–±—Ä–∞–Ω' : '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω'}
              </span>
            </div>
          </div>
          
          <div className="mb-4">
            <div className="flex justify-between items-center mb-2">
              <label className="block text-gray-300 text-sm font-medium">
                –û–ø–µ—Ä–∞—Ü–∏–∏
              </label>
              <Button 
                variant="secondary" 
                size="sm" 
                onClick={addOperation} 
                type="button"
              >
                –î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
              </Button>
            </div>
            
            {formData.operations.length === 0 ? (
              <p className="text-gray-400 text-center py-4 bg-gray-700 rounded">
                –ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è –∑–∞–∫–∞–∑–∞.
              </p>
            ) : (
              <div className="space-y-3">
                {formData.operations.map((op: any) => (
                  <div key={op.id} className="bg-gray-700 p-3 rounded relative">
                    <button
                      type="button"
                      onClick={() => removeOperation(op.id)}
                      className="absolute top-2 right-2 text-gray-400 hover:text-red-500"
                    >
                      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                    
                    <div className="grid grid-cols-2 gap-3">
                      <div>
                        <label className="block text-gray-300 text-xs font-medium mb-1">
                          –ù–æ–º–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏
                        </label>
                        <Input
                          type="number"
                          value={op.opNumber}
                          onChange={(e: InputChangeEvent) => updateOperation(op.id, 'opNumber', Number(e.target.value))}
                          placeholder="‚Ññ"
                        />
                      </div>
                      
                      <div>
                        <label className="block text-gray-300 text-xs font-medium mb-1">
                          –û—Å–∏
                        </label>
                        <div className="flex space-x-2">
                          <button
                            type="button"
                            className={`px-3 py-2 rounded text-sm ${op.opAxes === '3—Ö' ? 'bg-indigo-600' : 'bg-gray-600'}`}
                            onClick={() => updateOperation(op.id, 'opAxes', '3—Ö')}
                          >
                            3—Ö
                          </button>
                          <button
                            type="button"
                            className={`px-3 py-2 rounded text-sm ${op.opAxes === '4—Ö' ? 'bg-indigo-600' : 'bg-gray-600'}`}
                            onClick={() => updateOperation(op.id, 'opAxes', '4—Ö')}
                          >
                            4—Ö
                          </button>
                          <button
                            type="button"
                            className={`px-3 py-2 rounded text-sm ${op.opAxes === '—Ç–æ–∫–∞—Ä–Ω—ã–π' ? 'bg-indigo-600' : 'bg-gray-600'}`}
                            onClick={() => updateOperation(op.id, 'opAxes', '—Ç–æ–∫–∞—Ä–Ω—ã–π')}
                          >
                            –¢–æ–∫–∞—Ä–Ω—ã–π
                          </button>
                        </div>
                      </div>
                      
                      <div>
                        <label className="block text-gray-300 text-xs font-medium mb-1">
                          –í—Ä–µ–º—è (–º–∏–Ω)
                        </label>
                        <Input
                          type="number"
                          value={op.opTime}
                          onChange={(e: InputChangeEvent) => updateOperation(op.id, 'opTime', Number(e.target.value))}
                          placeholder="–í—Ä–µ–º—è"
                        />
                      </div>
                      
                      <div>
                        <label className="block text-gray-300 text-xs font-medium mb-1">
                          –°—Ç–∞–Ω–æ–∫
                        </label>
                        <select
                          value={op.machineId}
                          onChange={(e: SelectChangeEvent) => updateOperation(op.id, 'machineId', Number(e.target.value))}
                          className="w-full p-2 rounded bg-gray-600 text-white border border-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                          <option value="0">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–Ω–æ–∫</option>
                          <option value="1">Doosan Hadasha (3—Ö, 4—Ö)</option>
                          <option value="2">Doosan Yashana (3—Ö, 4—Ö)</option>
                          <option value="3">Pinnacle Gdola (3—Ö, 4—Ö)</option>
                          <option value="4">Pinnacle Ktana (3—Ö)</option>
                          <option value="5">Mitsubishi (3—Ö)</option>
                          <option value="6">Okuma (—Ç–æ–∫–∞—Ä–Ω—ã–π)</option>
                          <option value="7">JohnFord (—Ç–æ–∫–∞—Ä–Ω—ã–π)</option>
                        </select>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            )}
          </div>
          
          <div className="flex justify-end gap-3 pt-3 border-t border-gray-700">
            <Button variant="secondary" onClick={onClose} type="button">
              –û—Ç–º–µ–Ω–∞
            </Button>
            <Button variant="primary" type="submit" disabled={!isFormValid}>
              {order ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : '–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑'}
            </Button>
          </div>
        </form>
      </div>
    </div>
  );
};

export default OrderForm;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\order-management\components\OrdersList.tsx
// src/order-management/components/OrdersList.tsx
import React, { useState } from 'react';
import { format } from 'date-fns'; // –î–æ–±–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç
import { Button } from '../../ui-components/components/Button';
import { Order } from '../../api-client/ordersAdapter';

interface OrdersListProps {
  orders: Order[];
  onDelete: (id: number) => void;
  onSelect: (id: number) => void;
  onComplete: (id: number) => void;
}

const OrdersList: React.FC<OrdersListProps> = ({ orders, onDelete, onSelect, onComplete }) => {
  const [expandedOrderId, setExpandedOrderId] = useState<number | null>(null);
  const [isProcessing, setIsProcessing] = useState<number | null>(null); // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞
  const toggleOrderDetails = (id: number) => {
    setExpandedOrderId(expandedOrderId === id ? null : id);
  };

  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º date-fns
  const formatDate = (dateStr?: string) => {
    if (!dateStr) return '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
    try {
      return format(new Date(dateStr), 'dd.MM.yyyy');
    } catch (e) {
      return dateStr;
    }
  };

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
  const handleAction = async (action: () => void, id: number) => {
    setIsProcessing(id);
    await action();
    setIsProcessing(null);
  };

  // –ï—Å–ª–∏ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  if (!orders || orders.length === 0) {
    return (
      <div className="bg-gray-800 p-6 rounded-lg text-center">
        <p className="text-gray-400">–ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
      </div>
    );
  }

  console.log(`–û—Ç–æ–±—Ä–∞–∂–∞–µ–º ${orders.length} –∑–∞–∫–∞–∑–æ–≤`);

  return (
    <div className="space-y-4">
      {orders.map(order => (
        <div 
          key={order.id} 
          className="bg-gray-800 rounded-lg overflow-hidden shadow-lg"
        >
          {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–∫–∞–∑–∞ - –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π */}
          <div 
            className="p-4 bg-gray-700 flex justify-between items-center cursor-pointer"
            onClick={() => toggleOrderDetails(order.id)}
          >
            <div className="flex items-center">
              <span className="font-medium text-lg">{order.blueprintNumber}</span>
              <span className={`ml-3 px-2 py-1 text-xs rounded-full ${
                order.status === '–Ω–æ–≤—ã–π' ? 'bg-indigo-600 text-white' :
                order.status === '–≤ —Ä–∞–±–æ—Ç–µ' ? 'bg-amber-600 text-white' :
                order.status === '–∑–∞–≤–µ—Ä—à–µ–Ω' ? 'bg-emerald-600 text-white' :
                'bg-gray-600 text-white'
              }`}>
                {order.status}
              </span>
            </div>
            
            <div className="flex items-center">
              {order.priority > 1 && (
                <span className="mr-3 px-2 py-1 bg-red-600 rounded text-xs text-white">
                  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {order.priority}
                </span>
              )}
              <span className="text-lg">{expandedOrderId === order.id ? '‚ñº' : '‚ñ∂'}</span>
            </div>
          </div>
          
          {/* –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ - –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ */}
          {expandedOrderId === order.id && (
            <div className="p-4">
              {/* –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <h3 className="text-lg font-medium mb-2">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                  <div className="space-y-1">
                    <p><span className="text-gray-400">ID:</span> {order.id}</p>
                    <p><span className="text-gray-400">–ß–µ—Ä—Ç–µ–∂:</span> {order.blueprintNumber}</p>
                    <p><span className="text-gray-400">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</span> {order.quantity} —à—Ç.</p>
                    <p><span className="text-gray-400">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</span> {order.priority}</p>
                    <p><span className="text-gray-400">–°—Ç–∞–Ω–æ–∫:</span> {order.machineName || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}</p>
                  </div>
                </div>
                
                <div>
                  <h3 className="text-lg font-medium mb-2">–°—Ä–æ–∫–∏</h3>
                  <div className="space-y-1">
                    <p><span className="text-gray-400">–°—Ä–æ–∫ —Å–¥–∞—á–∏:</span> {formatDate(order.deadline)}</p>
                    <p><span className="text-gray-400">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</span> {formatDate(order.startDate)}</p>
                    <p><span className="text-gray-400">–†–∞—Å—á–µ—Ç–Ω–æ–µ –æ–∫–æ–Ω—á–∞–Ω–∏–µ:</span> {formatDate(order.estimatedCompletion)}</p>
                    <p>
                      <span className="text-gray-400">–£–ª–æ–∂–∏—Ç—Å—è –≤ —Å—Ä–æ–∫:</span>
                      <span className={`ml-2 ${order.willMeetDeadline ? 'text-green-500' : 'text-red-500'}`}>
                        {order.willMeetDeadline ? '–î–∞' : '–ù–µ—Ç'}
                      </span>
                    </p>
                  </div>
                </div>
              </div>
              
              {/* –û–ø–µ—Ä–∞—Ü–∏–∏ */}
              {order.operations && order.operations.length > 0 && (
                <div className="mb-4">
                  <h3 className="text-lg font-medium mb-2">–û–ø–µ—Ä–∞—Ü–∏–∏</h3>
                  <div className="bg-gray-700 p-2 rounded-lg">
                    <table className="w-full">
                      <thead>
                        <tr className="text-left">
                          <th className="p-2">‚Ññ</th>
                          <th className="p-2">–¢–∏–ø</th>
                          <th className="p-2">–í—Ä–µ–º—è (–º–∏–Ω)</th>
                          <th className="p-2">–°—Ç–∞–Ω–æ–∫</th>
                          <th className="p-2">–ù–∞—á–∞–ª–æ</th>
                          <th className="p-2">–û–∫–æ–Ω—á–∞–Ω–∏–µ</th>
                        </tr>
                      </thead>
                      <tbody>
                        {order.operations.map((op, index) => (
                          <tr key={`${order.id}-op-${index}`} className="border-t border-gray-600">
                            <td className="p-2">{op.opNumber}</td>
                            <td className="p-2">{op.opAxes}</td>
                            <td className="p-2">{op.opTime}</td>
                            <td className="p-2">{op.assignedMachine || '-'}</td>
                            <td className="p-2">{formatDate(op.startDate)}</td>
                            <td className="p-2">{formatDate(op.endDate)}</td>
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                </div>
              )}
              
              {/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                {order.materialType && (
                  <div>
                    <p><span className="text-gray-400">–ú–∞—Ç–µ—Ä–∏–∞–ª:</span> {order.materialType}</p>
                  </div>
                )}
                
                {order.pdfPath && (
                  <div>
                    <p>
                      <span className="text-gray-400">PDF:</span>
                      <a 
                        href={order.pdfPath} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="ml-2 text-indigo-400 hover:text-indigo-300"
                      >
                        –û—Ç–∫—Ä—ã—Ç—å PDF
                      </a>
                    </p>
                  </div>
                )}
                
                {order.drawingUrl && (
                  <div>
                    <p>
                      <span className="text-gray-400">–ß–µ—Ä—Ç–µ–∂:</span>
                      <a 
                        href={order.drawingUrl} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="ml-2 text-indigo-400 hover:text-indigo-300"
                      >
                        –û—Ç–∫—Ä—ã—Ç—å —á–µ—Ä—Ç–µ–∂
                      </a>
                    </p>
                  </div>
                )}
              </div>
              
              {/* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */}
              <div className="flex justify-end space-x-3 mt-4 border-t border-gray-700 pt-4">
                <Button
                  variant="primary"
                  size="sm"
                  onClick={() => onSelect(order.id)}
                >
                  –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                </Button>
                
                {order.status !== '–∑–∞–≤–µ—Ä—à–µ–Ω' && (
                  <Button
                    variant="success"
                    size="sm"
                    onClick={() => handleAction(() => onComplete(order.id), order.id)}
                    disabled={isProcessing === order.id}
                  >
                    {isProcessing === order.id ? '–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ...' : '–ó–∞–≤–µ—Ä—à–∏—Ç—å'}
                  </Button>
                )}
                
                <Button
                  variant="danger"
                  size="sm"
                  onClick={() => {
                    if (window.confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑ #${order.id}?`)) {
                      handleAction(() => onDelete(order.id), order.id);
                    }
                  }}
                  disabled={isProcessing === order.id}
                >
                  {isProcessing === order.id ? '–£–¥–∞–ª–µ–Ω–∏–µ...' : '–£–¥–∞–ª–∏—Ç—å'}
                </Button>
              </div>
            </div>
          )}
        </div>
      ))}
    </div>
  );
};

export default OrdersList;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\order-management\components\OrdersPage.tsx
// src/order-management/components/OrdersPage.tsx
import React, { useState, useEffect, useCallback } from 'react';
import { Button } from '../../ui-components/components/Button';
import { fetchOrders, createOrder, updateOrder, deleteOrder } from '../../api-client/ordersApi';
import { filterOrders } from '../../utils/utils';
import { Order } from '../../api-client/ordersAdapter';
import OrdersList from './OrdersList';
import OrderForm from './OrderForm';
import OrderDetailView from './OrderDetailView';
import SearchBar from './SearchBar';

const OrdersPage: React.FC = () => {
  const [orders, setOrders] = useState<Order[]>([]);
  const [filteredOrders, setFilteredOrders] = useState<Order[]>([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [statusFilter, setStatusFilter] = useState('all');
  const [isFormOpen, setIsFormOpen] = useState(false);
  const [isDetailOpen, setIsDetailOpen] = useState(false);
  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const loadOrders = useCallback(async () => {
    setIsLoading(true);
    setError(null);
    try {
      const data = await fetchOrders();
      console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞–∫–∞–∑—ã:', data.length);
      setOrders(data);
      setFilteredOrders(data);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞–∫–∞–∑–æ–≤:', error);
      setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–∫–∞–∑—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    } finally {
      setIsLoading(false);
    }
  }, []);

  useEffect(() => {
    loadOrders();
  }, [loadOrders]);

  useEffect(() => {
    const result = filterOrders(orders, searchTerm, statusFilter);
    setFilteredOrders(result);
  }, [searchTerm, statusFilter, orders]);

  const handleCreate = useCallback(() => {
    setSelectedOrder(null);
    setIsFormOpen(true);
  }, []);

  const handleEdit = useCallback((id: number) => {
    const order = orders.find(o => o.id === id);
    setSelectedOrder(order || null); // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ undefined
    setIsFormOpen(true);
  }, [orders]);

  // const handleView = useCallback((id: number) => {
  //   const order = orders.find(o => o.id === id);
  //   setSelectedOrder(order || null); // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ undefined
  //   setIsDetailOpen(true);
  // }, [orders]);

  const handleSubmit = useCallback(async (orderData: any) => {
    try {
      if (selectedOrder) {
        const updatedOrderData = { 
          ...selectedOrder, 
          ...orderData,
          id: selectedOrder.id
        };
        const updatedOrder = await updateOrder(updatedOrderData);
        setOrders(orders.map(o => (o.id === updatedOrder.id ? updatedOrder : o)));
      } else {
        const newOrder = await createOrder(orderData);
        setOrders([...orders, newOrder]);
      }
      setIsFormOpen(false);
      setSelectedOrder(null);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
      setError('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–∞–∑.');
    }
  }, [selectedOrder, orders]);

  const handleDelete = useCallback(async (id: number) => {
    try {
      await deleteOrder(id);
      setOrders(orders.filter(o => o.id !== id));
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
      setError('–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑.');
    }
  }, [orders]);

  const handleComplete = useCallback(async (id: number) => {
    try {
      const order = orders.find(o => o.id === id);
      if (order) {
        const updatedOrder = await updateOrder({ ...order, status: '–∑–∞–≤–µ—Ä—à–µ–Ω' });
        setOrders(orders.map(o => (o.id === updatedOrder.id ? updatedOrder : o)));
      }
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:', error);
      setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑.');
    }
  }, [orders]);

  const handleCloseForm = useCallback(() => {
    setIsFormOpen(false);
  }, []);

  const handleCloseDetail = useCallback(() => {
    setIsDetailOpen(false);
  }, []);

  const handleSearchChange = useCallback((value: string) => {
    setSearchTerm(value);
  }, []);

  const handleStatusChange = useCallback((value: string) => {
    setStatusFilter(value);
  }, []);

  return (
    <div className="py-6">
      <div className="flex justify-between items-center mb-6">
        <h1 className="page-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h1>
        <Button 
          variant="primary" 
          onClick={handleCreate}
          className="flex items-center"
        >
          <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
          </svg>
          –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
        </Button>
      </div>

      <div className="card mb-6">
        <SearchBar
          searchTerm={searchTerm}
          onSearchChange={handleSearchChange}
          statusFilter={statusFilter}
          onStatusChange={handleStatusChange}
        />
      </div>

      {error && <div className="text-red-400 mb-4">{error}</div>}

      {isLoading ? (
        <div className="card flex justify-center items-center p-12">
          <div className="loader">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...</div>
        </div>
      ) : filteredOrders.length === 0 ? (
        <div className="card flex flex-col items-center justify-center p-12 text-center">
          <svg className="w-16 h-16 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
          <p className="text-xl text-gray-300 mb-2">–ó–∞–∫–∞–∑—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
          <p className="text-gray-400 mb-6">
            {searchTerm || statusFilter !== 'all' 
              ? '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏' 
              : '–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É'}
          </p>
          <Button variant="primary" onClick={handleCreate}>
            –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
          </Button>
        </div>
      ) : (
        <div className="card">
          <OrdersList
            orders={filteredOrders}
            onDelete={handleDelete}
            onSelect={handleEdit}
            onComplete={handleComplete}
          />
        </div>
      )}

      {isFormOpen && (
        <OrderForm
          order={selectedOrder}
          onSubmit={handleSubmit}
          onClose={handleCloseForm}
        />
      )}

      {isDetailOpen && selectedOrder && (
        <OrderDetailView
          order={selectedOrder}
          onClose={handleCloseDetail}
        />
      )}
    </div>
  );
};

export default OrdersPage;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\order-management\components\SearchBar.tsx
import React, { memo } from 'react';
import { Input } from '../../ui-components/components/Input';

interface SearchBarProps {
  searchTerm: string;
  onSearchChange: (value: string) => void;
  statusFilter: string;
  onStatusChange: (value: string) => void;
}

// –ò—Å–ø–æ–ª—å–∑—É–µ–º memo –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
const SearchBar: React.FC<SearchBarProps> = memo(({
  searchTerm,
  onSearchChange,
  statusFilter,
  onStatusChange,
}) => {
  return (
    <div className="flex flex-col md:flex-row gap-4">
      <div className="relative flex-1">
        <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </div>
        <Input
          value={searchTerm}
          onChange={(e) => onSearchChange(e.target.value)}
          placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É —á–µ—Ä—Ç–µ–∂–∞"
          className="pl-10"
        />
      </div>
      
      <div className="w-full md:w-64">
        <select
          value={statusFilter}
          onChange={(e) => onStatusChange(e.target.value)}
          className="w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500"
        >
          <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
          <option value="–Ω–æ–≤—ã–π">–ù–æ–≤—ã–π</option>
          <option value="–≤ —Ä–∞–±–æ—Ç–µ">–í —Ä–∞–±–æ—Ç–µ</option>
          <option value="–∑–∞–≤–µ—Ä—à–µ–Ω">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
        </select>
      </div>
    </div>
  );
});

// –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ React DevTools
SearchBar.displayName = 'SearchBar';

export default SearchBar;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\public\index.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Alphabet Trainer Pro</title>
</head>
<body>
  <div id="root"></div>
</body>
</html>

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\schedule-calculator\components\CalculationPage.tsx
import React, { useState, useEffect, useCallback } from 'react';
import { format } from 'date-fns';
import { Button } from '../../ui-components/components/Button';
import { fetchOrders, fetchMachines, updateOrder } from '../../api-client/ordersApi';
import { calculateSchedule } from '../services/ScheduleService';

const CalculationPage: React.FC = () => {
  const [orders, setOrders] = useState<any[]>([]);
  const [machines, setMachines] = useState<any[]>([]);
  const [schedule, setSchedule] = useState<any[]>([]);
  const [isCalculating, setIsCalculating] = useState(false);
  const [startDate, setStartDate] = useState<Date>(new Date());
  const [errorMessage, setErrorMessage] = useState<string | null>(null);
  const [successMessage, setSuccessMessage] = useState<string | null>(null);
  const [isFirstTimeCalculation, setIsFirstTimeCalculation] = useState(true);
  const [ordersWithNewDeadlines, setOrdersWithNewDeadlines] = useState<any[]>([]);

  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  useEffect(() => {
    const loadData = async () => {
      try {
        const [ordersData, machinesData] = await Promise.all([
          fetchOrders(),
          fetchMachines()
        ]);
        
        console.log('–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤:', ordersData.length);
        console.log('–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å—Ç–∞–Ω–∫–æ–≤:', machinesData.length);
        
        // –ï—Å–ª–∏ —É –∑–∞–∫–∞–∑–æ–≤ —É–∂–µ –µ—Å—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤–∏—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
        const hasPlannedOperations = ordersData.some((order: any) => 
          order.operations && order.operations.some((op: any) => 
            op.isInitiallyPlanned && op.startDate && op.endDate
          )
        );
        
        setIsFirstTimeCalculation(!hasPlannedOperations);
        setOrders(ordersData);
        setMachines(machinesData);
        setErrorMessage(null);
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error);
        setErrorMessage('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
      }
    };
    
    loadData();
  }, []);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã
  const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newDate = new Date(e.target.value);
    setStartDate(newDate);
  };

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  const handleCalculate = useCallback(async () => {
    setIsCalculating(true);
    setErrorMessage(null);
    setSuccessMessage(null);
    setOrdersWithNewDeadlines([]);
    
    try {
      if (orders.length === 0) {
        setErrorMessage('–ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.');
        setIsCalculating(false);
        return;
      }
      
      if (machines.length === 0) {
        setErrorMessage('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω–∫–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.');
        setIsCalculating(false);
        return;
      }
      
      console.log(`–ù–∞—á–∞–ª–æ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å ${format(startDate, 'yyyy-MM-dd')}`);
      console.log(`–†–µ–∂–∏–º —Ä–∞—Å—á–µ—Ç–∞: ${isFirstTimeCalculation ? '–ü–µ—Ä–≤–∏—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ' : '–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞'}`);
      
      // –ö–æ–ø–∏—Ä—É–µ–º –∑–∞–∫–∞–∑—ã, —á—Ç–æ–±—ã –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
      const ordersCopy = JSON.parse(JSON.stringify(orders));
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏–≥–Ω–∞—Ç—É—Ä—É –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞, –ø–µ—Ä–µ–¥–∞–µ–º —Ç–æ–ª—å–∫–æ 3 –∞—Ä–≥—É–º–µ–Ω—Ç–∞
      const calculatedSchedule = calculateSchedule(
        ordersCopy, 
        machines, 
        startDate
      );
      
      setSchedule(calculatedSchedule);
      
      // –ù–∞—Ö–æ–¥–∏–º –∑–∞–∫–∞–∑—ã —Å –Ω–æ–≤—ã–º–∏ —Å—Ä–æ–∫–∞–º–∏ —Å–¥–∞—á–∏
      const ordersWithChangedDeadlines = ordersCopy.filter((order: any) => 
        order.newDeadline && 
        new Date(order.deadline) < new Date(order.newDeadline)
      );
      
      setOrdersWithNewDeadlines(ordersWithChangedDeadlines);
      
      if (ordersWithChangedDeadlines.length > 0) {
        setSuccessMessage(`–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ. ${ordersWithChangedDeadlines.length} –∑–∞–∫–∞–∑–æ–≤ –Ω–µ —É—Å–ø–µ–≤–∞—é—Ç –∫ —Å—Ä–æ–∫—É.`);
      } else {
        setSuccessMessage('–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ. –í—Å–µ –∑–∞–∫–∞–∑—ã —É—Å–ø–µ–≤–∞—é—Ç –∫ —Å—Ä–æ–∫—É.');
      }
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:', error);
      setErrorMessage('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
    } finally {
      setIsCalculating(false);
    }
  }, [orders, machines, startDate, isFirstTimeCalculation]);

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  const handleSaveSchedule = useCallback(async () => {
    if (schedule.length === 0) {
      setErrorMessage('–ù–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.');
      return;
    }
    
    try {
      setIsCalculating(true);
      
      // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑–∞–º
      const allScheduledOperations: {[orderId: number]: any[]} = {};
      
      schedule.forEach(machineSchedule => {
        machineSchedule.operations.forEach((op: any) => {
          const orderId = op.orderId;
          
          if (!allScheduledOperations[orderId]) {
            allScheduledOperations[orderId] = [];
          }
          
          // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é –∫ –∑–∞–∫–∞–∑—É
          allScheduledOperations[orderId].push({
            opNumber: op.opNumber,
            opTime: op.opTime,
            opAxes: op.opAxes,
            assignedMachine: op.assignedMachine,
            machineId: op.machineId,
            startDate: format(op.startDate, 'yyyy-MM-dd'),
            endDate: format(op.endDate, 'yyyy-MM-dd'),
            isInitiallyPlanned: true,
            lastModifiedBy: 'system',
            lastModifiedDate: new Date().toISOString()
          });
        });
      });
      
      // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ –æ–±–Ω–æ–≤–ª—è–µ–º –µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–∏
      const orderUpdatePromises = Object.entries(allScheduledOperations).map(
        async ([orderIdStr, operations]) => {
          const orderId = parseInt(orderIdStr);
          const order = orders.find(o => o.id === orderId);
          
          if (order) {
            // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—É—é –ø–æ–∑–¥–Ω—é—é –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
            const latestEndDate = operations.reduce((latest, op) => {
              const endDate = new Date(op.endDate);
              return endDate > latest ? endDate : latest;
            }, new Date(0));
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É–∫–ª–∞–¥—ã–≤–∞–µ–º—Å—è –ª–∏ –≤ —Å—Ä–æ–∫
            const deadline = new Date(order.deadline);
            const willMeetDeadline = latestEndDate <= deadline;
            
            // –°–æ–∑–¥–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑
            const updatedOrder = {
              ...order,
              operations: operations,
              startDate: operations[0]?.startDate || order.startDate,
              estimatedCompletion: format(latestEndDate, 'yyyy-MM-dd'),
              willMeetDeadline: willMeetDeadline,
              status: '–≤ —Ä–∞–±–æ—Ç–µ'
            };
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–π —Å—Ä–æ–∫, –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ
            const matchingOrderWithNewDeadline = ordersWithNewDeadlines.find(o => o.id === orderId);
            if (matchingOrderWithNewDeadline && matchingOrderWithNewDeadline.newDeadline) {
              updatedOrder.newDeadline = matchingOrderWithNewDeadline.newDeadline;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ API
            return updateOrder(updatedOrder);
          }
          
          return Promise.resolve();
        }
      );
      
      // –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
      await Promise.all(orderUpdatePromises);
      
      setSuccessMessage('–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ. –ó–∞–∫–∞–∑—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã.');
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
      setIsFirstTimeCalculation(false);
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:', error);
      setErrorMessage('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');
    } finally {
      setIsCalculating(false);
    }
  }, [schedule, orders, ordersWithNewDeadlines]);

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞–Ω–∫–∞
  const calculateMachineLoad = useCallback((machineSchedule: any) => {
    if (!machineSchedule.operations.length) return 0;
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å—Ç–∞–Ω–∫–∞ (–≤ —á–∞—Å–∞—Ö)
    const totalWorkHours = machineSchedule.operations.reduce((total: number, op: any) => {
      const startDate = new Date(op.startDate);
      const endDate = new Date(op.endDate);
      const diffMs = endDate.getTime() - startDate.getTime();
      const diffHours = diffMs / (1000 * 60 * 60);
      return total + diffHours;
    }, 0);
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–µ—Ä–∏–æ–¥ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–≤ —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è—Ö)
    const earliestStart = machineSchedule.operations.reduce(
      (earliest: Date, op: any) => {
        const startDate = new Date(op.startDate);
        return startDate < earliest ? startDate : earliest;
      },
      new Date(machineSchedule.operations[0].startDate)
    );
    
    const latestEnd = machineSchedule.operations.reduce(
      (latest: Date, op: any) => {
        const endDate = new Date(op.endDate);
        return endDate > latest ? endDate : latest;
      },
      new Date(machineSchedule.operations[0].endDate)
    );
    
    // –ü—Ä–∏–º–µ—Ä–Ω–æ 16 —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å
    const totalDays = Math.ceil((latestEnd.getTime() - earliestStart.getTime()) / (1000 * 60 * 60 * 24));
    const maxWorkHours = totalDays * 16;
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (—Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞)
    return Math.round((totalWorkHours / maxWorkHours) * 100);
  }, []);

  // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤ —Å –Ω–æ–≤—ã–º–∏ —Å—Ä–æ–∫–∞–º–∏
  const renderOrdersWithNewDeadlines = () => {
    if (ordersWithNewDeadlines.length === 0) return null;
    
    return (
      <div className="bg-yellow-800 bg-opacity-25 p-4 rounded-lg mb-6">
        <h3 className="text-lg font-semibold text-yellow-300 mb-3">–ó–∞–∫–∞–∑—ã, –Ω–µ —É—Å–ø–µ–≤–∞—é—â–∏–µ –∫ —Å—Ä–æ–∫—É:</h3>
        <div className="overflow-x-auto">
          <table className="min-w-full bg-gray-700 rounded">
            <thead>
              <tr>
                <th className="px-4 py-2 text-left">‚Ññ –ó–∞–∫–∞–∑–∞</th>
                <th className="px-4 py-2 text-left">–¢–µ–∫—É—â–∏–π —Å—Ä–æ–∫</th>
                <th className="px-4 py-2 text-left">–ù–æ–≤—ã–π —Å—Ä–æ–∫</th>
                <th className="px-4 py-2 text-left">–ó–∞–¥–µ—Ä–∂–∫–∞ (–¥–Ω–µ–π)</th>
              </tr>
            </thead>
            <tbody>
              {ordersWithNewDeadlines.map(order => {
                const currentDeadline = new Date(order.deadline);
                const newDeadline = new Date(order.newDeadline);
                const delayDays = Math.round((newDeadline.getTime() - currentDeadline.getTime()) / (1000 * 60 * 60 * 24));
                
                return (
                  <tr key={order.id} className="border-t border-gray-600">
                    <td className="px-4 py-2">{order.blueprintNumber}</td>
                    <td className="px-4 py-2">{format(currentDeadline, 'dd.MM.yyyy')}</td>
                    <td className="px-4 py-2 text-yellow-300">{format(newDeadline, 'dd.MM.yyyy')}</td>
                    <td className="px-4 py-2 text-red-300">{delayDays}</td>
                  </tr>
                );
              })}
            </tbody>
          </table>
        </div>
      </div>
    );
  };

  // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  return (
    <div className="p-6 bg-gray-900 min-h-screen">
      <h1 className="text-2xl font-bold text-white mb-6">–†–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</h1>
      
      {/* –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö */}
      {errorMessage && (
        <div className="bg-red-800 text-white p-4 rounded-lg mb-6">
          <p>{errorMessage}</p>
        </div>
      )}
      
      {successMessage && (
        <div className="bg-green-800 text-white p-4 rounded-lg mb-6">
          <p>{successMessage}</p>
        </div>
      )}
      
      {/* –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ —Å –Ω–æ–≤—ã–º–∏ —Å—Ä–æ–∫–∞–º–∏ */}
      {renderOrdersWithNewDeadlines()}
      
      {/* –§–æ—Ä–º–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ */}
      <div className="bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
        <h2 className="text-xl font-semibold text-white mb-4">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á–µ—Ç–∞</h2>
        
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label className="block text-gray-300 text-sm mb-2">–ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ —Ä–∞—Å—á–µ—Ç–∞:</label>
            <input
              type="date"
              value={format(startDate, 'yyyy-MM-dd')}
              onChange={handleDateChange}
              className="w-full p-3 rounded bg-gray-700 text-white"
            />
          </div>
          
          <div>
            <label className="block text-gray-300 text-sm mb-2">–†–µ–∂–∏–º —Ä–∞—Å—á–µ—Ç–∞:</label>
            <div className="flex items-center space-x-4">
              <label className="inline-flex items-center">
                <input
                  type="radio"
                  checked={isFirstTimeCalculation}
                  onChange={() => setIsFirstTimeCalculation(true)}
                  className="form-radio text-indigo-600"
                />
                <span className="ml-2 text-white">–ü–µ—Ä–≤–∏—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
              </label>
              <label className="inline-flex items-center">
                <input
                  type="radio"
                  checked={!isFirstTimeCalculation}
                  onChange={() => setIsFirstTimeCalculation(false)}
                  className="form-radio text-indigo-600"
                />
                <span className="ml-2 text-white">–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞</span>
              </label>
            </div>
          </div>
        </div>
        
        <div className="mb-4">
          <div className="text-gray-300 space-y-1">
            <p><span className="font-semibold">–ó–∞–∫–∞–∑–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:</span> {orders.length}</p>
            <p><span className="font-semibold">–î–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω–∫–æ–≤:</span> {machines.length}</p>
          </div>
        </div>
        
        <div className="flex flex-wrap gap-4">
          <Button 
            variant="primary" 
            onClick={handleCalculate} 
            disabled={isCalculating || orders.length === 0 || machines.length === 0}
            className={isCalculating ? 'button-loading' : ''}
          >
            {isCalculating ? '–†–∞—Å—á–µ—Ç...' : '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ'}
          </Button>
          
          {schedule.length > 0 && (
            <Button 
              variant="success" 
              onClick={handleSaveSchedule} 
              disabled={isCalculating}
            >
              –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
            </Button>
          )}
          
          <Button
            variant="secondary"
            onClick={() => window.location.href = '/calendar'}
            disabled={isCalculating}
          >
            –ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é
          </Button>
        </div>
      </div>
      
      {/* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ */}
      {schedule.length > 0 && (
        <div className="space-y-8">
          <h2 className="text-xl font-semibold text-white mb-4">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</h2>
          
          {/* –°–≤–æ–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            {schedule.map(machineSchedule => (
              <div key={machineSchedule.machineId} className="bg-gray-800 p-4 rounded-lg shadow-lg">
                <h3 className="text-lg font-semibold text-white mb-2">{machineSchedule.machineName}</h3>
                <p className="text-gray-300 mb-1">
                  <span className="font-medium">–û–ø–µ—Ä–∞—Ü–∏–π:</span> {machineSchedule.operations.length}
                </p>
                <p className="text-gray-300 mb-1">
                  <span className="font-medium">–ó–∞–≥—Ä—É–∑–∫–∞:</span> {calculateMachineLoad(machineSchedule)}%
                </p>
                {machineSchedule.operations.length > 0 && (
                  <>
                    <p className="text-gray-300 mb-1">
                      <span className="font-medium">–ù–∞—á–∞–ª–æ:</span> {format(new Date(machineSchedule.operations[0].startDate), 'dd.MM.yyyy')}
                    </p>
                    <p className="text-gray-300">
                      <span className="font-medium">–û–∫–æ–Ω—á–∞–Ω–∏–µ:</span> {format(new Date(machineSchedule.operations[machineSchedule.operations.length - 1].endDate), 'dd.MM.yyyy')}
                    </p>
                  </>
                )}
              </div>
            ))}
          </div>
          
          {/* –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–Ω–∫–∞ */}
          {schedule.map(machineSchedule => (
            <div key={`details-${machineSchedule.machineId}`} className="bg-gray-800 p-6 rounded-lg shadow-lg">
              <h3 className="text-lg font-semibold text-white mb-4">
                –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞–Ω–∫–∞: {machineSchedule.machineName}
              </h3>
              
              {machineSchedule.operations.length === 0 ? (
                <p className="text-gray-400 text-center py-4">–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
              ) : (
                <div className="overflow-x-auto">
                  <table className="w-full min-w-full divide-y divide-gray-700">
                    <thead className="bg-gray-700">
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–ó–∞–∫–∞–∑</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">‚Ññ –û–ø.</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–¢–∏–ø</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–ö–æ–ª-–≤–æ</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–í—Ä–µ–º—è (–º–∏–Ω)</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–ù–∞–ª–∞–¥–∫–∞ (–º–∏–Ω)</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–ù–∞—á–∞–ª–æ</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–û–∫–æ–Ω—á–∞–Ω–∏–µ</th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">–°—Ä–æ–∫</th>
                      </tr>
                    </thead>
                    <tbody className="bg-gray-800 divide-y divide-gray-700">
                      {machineSchedule.operations.map((op: any, index: number) => {
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ä–æ–∫—É
                        const endDate = new Date(op.endDate);
                        const deadline = new Date(op.deadline || new Date());
                        const isOverdue = endDate > deadline;
                        const isCloseToDeadline = !isOverdue && 
                          (deadline.getTime() - endDate.getTime()) < 7 * 24 * 60 * 60 * 1000; // 7 –¥–Ω–µ–π
                        
                        return (
                          <tr 
                            key={`${op.orderId}-${op.opNumber}-${index}`}
                            className={`hover:bg-gray-700 ${
                              isOverdue ? 'bg-red-900 bg-opacity-30' : 
                              isCloseToDeadline ? 'bg-yellow-900 bg-opacity-30' : ''
                            }`}
                          >
                            <td className="px-4 py-3 whitespace-nowrap font-medium">
                              {op.blueprintNumber || `–ó–∞–∫–∞–∑ #${op.orderId}`}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {op.opNumber}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {op.opAxes}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {op.quantity}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {op.opTime * op.quantity}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              480
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {format(new Date(op.startDate), 'dd.MM.yyyy')}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {format(new Date(op.endDate), 'dd.MM.yyyy')}
                            </td>
                            <td className="px-4 py-3 whitespace-nowrap">
                              {format(new Date(op.deadline), 'dd.MM.yyyy')}
                              {isOverdue && (
                                <span className="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-500 text-white">
                                  –ü—Ä–æ—Å—Ä–æ—á–µ–Ω
                                </span>
                              )}
                              {isCloseToDeadline && (
                                <span className="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-500 text-white">
                                  –°–∫–æ—Ä–æ
                                </span>
                              )}
                            </td>
                          </tr>
                        );
                      })}
                    </tbody>
                  </table>
                </div>
              )}
            </div>
          ))}
        </div>
      )}
    </div>
  );
};

export default CalculationPage;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\schedule-calculator\components\MachineOperationsList.tsx
import React, { useState, useEffect } from 'react';
import { fetchMachines } from '../../api-client/ordersApi';
import { calculateWorkingDays } from '../../utils/utils';

const MachineOperationsList: React.FC = () => {
  const [machines, setMachines] = useState<any[]>([]);

  useEffect(() => {
    const loadMachines = async () => {
      try {
        const data = await fetchMachines();
        setMachines(data);
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞–Ω–∫–æ–≤:', error);
      }
    };
    loadMachines();
  }, []);

  return (
    <div className="p-6 bg-gray-900 min-h-screen">
      <h1 className="text-2xl font-bold text-white mb-6">–°–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π —Å—Ç–∞–Ω–∫–æ–≤</h1>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        {machines.map(machine => (
          <div key={machine.id} className="bg-gray-800 p-4 rounded">
            <h2 className="text-lg font-semibold text-white">{machine.name}</h2>
            <p className="text-gray-300">
              –î–æ—Å—Ç—É–ø–µ–Ω —Å: {new Date(machine.releaseDate).toLocaleDateString()}
            </p>
            <p className="text-gray-300">
              –†–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–æ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞: {calculateWorkingDays(new Date(), new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0))}
            </p>
          </div>
        ))}
      </div>
    </div>
  );
};

export default MachineOperationsList;

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\schedule-calculator\services\ScheduleService.ts
// src/schedule-calculator/services/ScheduleService.ts

import { addDays, format } from 'date-fns';

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
interface Operation {
  opNumber: number;
  opTime: number;
  opAxes: string;
  machineId?: number;
  assignedMachine?: string;
  blueprintNumber?: string;
  orderId?: number;
  deadline?: Date;
  quantity?: number;
  startDate?: Date;
  endDate?: Date;
  isInitiallyPlanned?: boolean;
  lastModifiedBy?: string;
  lastModifiedDate?: Date;
}

interface Order {
  id: number;
  blueprintNumber: string;
  quantity: number;
  deadline: string | Date;
  priority: number;
  status: string;
  operations: Operation[];
  willMeetDeadline?: boolean;
  estimatedCompletion?: string | Date;
  newDeadline?: string; // –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –¥–µ–¥–ª–∞–π–Ω–∞
}

interface Machine {
  id: number;
  name: string;
  releaseDate: string | Date;
  types: string[];
}

interface MachineSchedule {
  machineId: number;
  machineName: string;
  releaseDate: Date;
  operations: any[];
}

interface HolidayInfo {
  date: Date;
  isEve?: boolean;
  isFullDay?: boolean;
  isHalfDay?: boolean;
}

// –†–∞–±–æ—á–∏–π –¥–µ–Ω—å –≤ –º–∏–Ω—É—Ç–∞—Ö (16 —á–∞—Å–æ–≤)
const WORKING_DAY_MINUTES = 960;

// –í—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (8 —á–∞—Å–æ–≤)
const SETUP_TIME_MINUTES = 480;

// –í –ò–∑—Ä–∞–∏–ª–µ –≤—ã—Ö–æ–¥–Ω—ã–µ - –ø—è—Ç–Ω–∏—Ü–∞ –∏ —Å—É–±–±–æ—Ç–∞
const isWeekendIsrael = (date: Date): boolean => {
  const day = date.getDay();
  return day === 5 || day === 6; // 5 - –ø—è—Ç–Ω–∏—Ü–∞, 6 - —Å—É–±–±–æ—Ç–∞
};

// –ú–∞—Å—Å–∏–≤ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –ò–∑—Ä–∞–∏–ª—è –Ω–∞ 2025 –≥–æ–¥ (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ –¥–∞—Ç—ã)
const HOLIDAYS_2025: HolidayInfo[] = [
  // –§–æ—Ä–º–∞—Ç: –Ω–∞—á–∞–ª–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ (–≤–µ—á–µ—Ä), –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å –ø—Ä–∞–∑–¥–Ω–∏–∫–∞, –∫–æ–Ω–µ—Ü –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ (–¥–æ 13:00)
  { date: new Date("2025-01-13"), isEve: true, isHalfDay: true },
  { date: new Date("2025-01-14"), isFullDay: true },
  { date: new Date("2025-01-15"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-03-14"), isEve: true, isHalfDay: true },
  { date: new Date("2025-03-15"), isFullDay: true },
  { date: new Date("2025-03-16"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-04-12"), isEve: true, isHalfDay: true },
  { date: new Date("2025-04-13"), isFullDay: true },
  { date: new Date("2025-04-14"), isFullDay: true },
  { date: new Date("2025-04-15"), isFullDay: true },
  { date: new Date("2025-04-16"), isFullDay: true },
  { date: new Date("2025-04-17"), isFullDay: true },
  { date: new Date("2025-04-18"), isFullDay: true },
  { date: new Date("2025-04-19"), isFullDay: true },
  { date: new Date("2025-04-20"), isFullDay: true },
  { date: new Date("2025-04-21"), isEve: true, isHalfDay: true },
  
  // –î—Ä—É–≥–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏...
  { date: new Date("2025-05-02"), isEve: true, isHalfDay: true },
  { date: new Date("2025-05-03"), isFullDay: true },
  { date: new Date("2025-05-04"), isEve: true, isHalfDay: true }
];

// –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º
const getHolidayStatus = (date: Date): HolidayInfo | null => {
  return HOLIDAYS_2025.find(holiday =>
    holiday.date.getDate() === date.getDate() &&
    holiday.date.getMonth() === date.getMonth() &&
    holiday.date.getFullYear() === date.getFullYear()
  ) || null;
};

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —Å —É—á–µ—Ç–æ–º –≤—ã—Ö–æ–¥–Ω—ã—Ö
const addWorkingDays = (date: Date, days: number): Date => {
  let result = new Date(date);
  let remainingDays = days;
  
  while (remainingDays > 0) {
    result = addDays(result, 1);
    if (!isWeekendIsrael(result)) {
      const holidayStatus = getHolidayStatus(result);
      if (!holidayStatus || !holidayStatus.isFullDay) {
        remainingDays--;
      }
    }
  }
  
  return result;
};

// –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
const calculateRequiredWorkDays = (operationTime: number, quantity: number): number => {
  // –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–µ–π
  const totalOperationTime = operationTime * quantity;
  
  // –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏
  const totalTimeWithSetup = totalOperationTime + SETUP_TIME_MINUTES;
  
  // –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π (–æ–∫—Ä—É–≥–ª—è–µ–º –≤–≤–µ—Ä—Ö)
  return Math.ceil(totalTimeWithSetup / WORKING_DAY_MINUTES);
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞, –º–æ–∂–µ—Ç –ª–∏ —Å—Ç–∞–Ω–æ–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–π —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
const canMachinePerformOperation = (machine: Machine, operation: Operation): boolean => {
  if (!operation.opAxes) return false;
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å—Ç–∞–Ω–∫–∞
  if (operation.opAxes.includes('4—Ö')) {
    // 4-–æ—Å–µ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è - –Ω—É–∂–µ–Ω —Å—Ç–∞–Ω–æ–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 4 –æ—Å–µ–π
    return machine.types.includes('4—Ö');
  } else {
    // 3-–æ—Å–µ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è - –ø–æ–¥—Ö–æ–¥–∏—Ç –ª—é–±–æ–π —Å—Ç–∞–Ω–æ–∫
    return true;
  }
};

/**
 * –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å—Ç–∞–Ω–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–æ–≤
 * @param orders - –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
 * @param machines - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω–∫–æ–≤
 * @param currentDate - –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞—Å—á–µ—Ç–∞
 * @returns –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–Ω–∫–∞ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
 */
// –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ calculateSchedule
export const calculateSchedule = (
  orders: Order[], 
  machines: Machine[], 
  currentDate: Date
): MachineSchedule[] => {
  console.log(`–ù–∞—á–∞–ª–æ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ ${format(currentDate, 'yyyy-MM-dd')}`);
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞–Ω–∫–æ–≤
  const schedule: MachineSchedule[] = machines.map(machine => ({
    machineId: machine.id,
    machineName: machine.name,
    releaseDate: new Date(machine.releaseDate),
    operations: []
  }));
  
  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∏ –¥–µ–¥–ª–∞–π–Ω—É
  const sortedOrders = [...orders].sort((a, b) => {
    if (a.priority !== b.priority) return b.priority - a.priority;
    const aDeadline = new Date(a.deadline);
    const bDeadline = new Date(b.deadline);
    return aDeadline.getTime() - bDeadline.getTime();
  });
  
  // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
  sortedOrders.forEach(order => {
    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –Ω–æ–º–µ—Ä—É
    const sortedOperations = [...order.operations].sort((a, b) => a.opNumber - b.opNumber);
    
    // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Å–ª–µ–¥—É—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π
    let nextOperationStartDate = new Date(currentDate);
    let needsNewDeadline = false;
    
    // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
    sortedOperations.forEach(operation => {
      // –ù–∞—Ö–æ–¥–∏–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ç–∞–Ω–∫–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏
      const suitableMachines = machines.filter(machine => 
        canMachinePerformOperation(machine, operation)
      );
      
      if (suitableMachines.length === 0) {
        console.warn(`–ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å—Ç–∞–Ω–∫–æ–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ ${operation.opNumber} –∑–∞–∫–∞–∑–∞ ${order.blueprintNumber}`);
        return;
      }
      
      // –ù–∞—Ö–æ–¥–∏–º —Å—Ç–∞–Ω–æ–∫ —Å —Å–∞–º–æ–π —Ä–∞–Ω–Ω–µ–π –¥–∞—Ç–æ–π –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
      let bestMachine: Machine | null = null;
      let bestStartDate = new Date("2099-12-31");
      
      for (const machine of suitableMachines) {
        const machineSchedule = schedule.find(s => s.machineId === machine.id);
        if (!machineSchedule) continue;
        
        // –î–∞—Ç–∞, –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
        const machineAvailableDate = new Date(machineSchedule.releaseDate);
        
        // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ - –º–∞–∫—Å –∏–∑ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç–∞–Ω–∫–∞
        const potentialStartDate = new Date(
          Math.max(nextOperationStartDate.getTime(), machineAvailableDate.getTime())
        );
        
        if (potentialStartDate < bestStartDate) {
          bestMachine = machine;
          bestStartDate = potentialStartDate;
        }
      }
      
      if (!bestMachine) return;
      
      // –†–∞—Å—á–µ—Ç –¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
      const workDays = calculateRequiredWorkDays(operation.opTime, order.quantity);
      const operationEndDate = addWorkingDays(bestStartDate, workDays);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É–∫–ª–∞–¥—ã–≤–∞–µ–º—Å—è –ª–∏ –≤ –¥–µ–¥–ª–∞–π–Ω
      const deadline = new Date(order.deadline);
      if (operationEndDate > deadline) {
        needsNewDeadline = true;
      }
      
      // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
      const machineSchedule = schedule.find(s => s.machineId === bestMachine.id);
      if (machineSchedule) {
        machineSchedule.operations.push({
          ...operation,
          orderId: order.id,
          blueprintNumber: order.blueprintNumber,
          assignedMachine: bestMachine.name,
          machineId: bestMachine.id,
          startDate: bestStartDate,
          endDate: operationEndDate,
          quantity: order.quantity,
          deadline: new Date(order.deadline)
        });
        
        console.log(`–û–ø–µ—Ä–∞—Ü–∏—è #${operation.opNumber} –∑–∞–∫–∞–∑–∞ ${order.blueprintNumber} –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ —Å—Ç–∞–Ω–æ–∫ ${bestMachine.name}. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: ${format(bestStartDate, 'yyyy-MM-dd')} - ${format(operationEndDate, 'yyyy-MM-dd')}`);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞—Ç—É –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å—Ç–∞–Ω–∫–∞
        machineSchedule.releaseDate = new Date(operationEndDate);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ —Å–ª–µ–¥—É—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
        nextOperationStartDate = new Date(operationEndDate);
      }
    });
    
    // –ï—Å–ª–∏ –∑–∞–∫–∞–∑ –Ω–µ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –¥–µ–¥–ª–∞–π–Ω, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–æ–≤—ã–π
    if (needsNewDeadline) {
      // –ù–∞—Ö–æ–¥–∏–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ–ø–µ—Ä–∞—Ü–∏—é –∑–∞–∫–∞–∑–∞
      const lastOperations = schedule.flatMap(s => s.operations)
        .filter(op => op.orderId === order.id)
        .sort((a, b) => b.opNumber - a.opNumber);
      
      if (lastOperations.length > 0) {
        const lastOperation = lastOperations[0];
        order.newDeadline = format(lastOperation.endDate, 'yyyy-MM-dd');
        console.log(`–ó–∞–∫–∞–∑ ${order.blueprintNumber} –Ω–µ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ä–æ–∫. –ù–æ–≤—ã–π –¥–µ–¥–ª–∞–π–Ω: ${order.newDeadline}`);
      }
    }
  });
  
  return schedule;
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
export {
  isWeekendIsrael,
  getHolidayStatus,
  addWorkingDays,
  calculateRequiredWorkDays,
  canMachinePerformOperation,
  WORKING_DAY_MINUTES,
  SETUP_TIME_MINUTES
};

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\ui-components\index.ts
export { Button } from './components/Button';
export { Input } from './components/Input';

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\ui-components\components\Button.tsx
import React from 'react';
import classNames from 'classnames';

export interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'danger' | 'success';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  onClick?: () => void;
  children: React.ReactNode;
  className?: string;
  type?: 'button' | 'submit' | 'reset'; // –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ type
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  disabled = false,
  onClick,
  children,
  className,
  type = 'button', // –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
}) => {
  const baseStyles = 'rounded font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2';
  const variantStyles = {
    primary: 'bg-indigo-600 hover:bg-indigo-500 text-white focus:ring-indigo-500',
    secondary: 'bg-gray-600 hover:bg-gray-500 text-white focus:ring-gray-500',
    danger: 'bg-red-600 hover:bg-red-500 text-white focus:ring-red-500',
    success: 'bg-green-600 hover:bg-green-500 text-white focus:ring-green-500',
  };
  const sizeStyles = {
    sm: 'py-1 px-2 text-sm',
    md: 'py-2 px-4 text-base',
    lg: 'py-3 px-6 text-lg',
  };

  const classes = classNames(
    baseStyles,
    variantStyles[variant],
    sizeStyles[size],
    { 'opacity-50 cursor-not-allowed': disabled },
    className
  );

  return (
    <button className={classes} onClick={onClick} disabled={disabled} type={type}>
      {children}
    </button>
  );
};

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\ui-components\components\Input.tsx
import React from 'react';
import classNames from 'classnames';

interface InputProps {
  type?: string;
  value: string | number;
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
  placeholder?: string;
  disabled?: boolean;
  className?: string;
  error?: string;
}

export const Input: React.FC<InputProps> = ({
  type = 'text',
  value,
  onChange,
  placeholder,
  disabled = false,
  className,
  error,
}) => {
  const classes = classNames(
    'w-full p-3 rounded bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500',
    { 'border border-red-500': error },
    className
  );

  return (
    <div>
      <input
        type={type}
        value={value}
        onChange={onChange}
        placeholder={placeholder}
        disabled={disabled}
        className={classes}
      />
      {error && <p className="text-red-500 text-xs mt-1">{error}</p>}
    </div>
  );
};

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\ui-components\styles\components.css
@tailwind base;
@tailwind components;
@tailwind utilities;

.button-loading::after {
  content: '';
  display: inline-block;
  width: 1rem;
  height: 1rem;
  border: 2px solid white;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 1s linear infinite;
  margin-left: 0.5rem;
}

@keyframes spin {
  to { transform: rotate(360deg); }
} 


================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\utils\calendarUtils.ts
// src/utils/calendarUtils.ts
import { addDays } from 'date-fns';

// –†–∞–±–æ—á–∏–π –¥–µ–Ω—å –≤ –º–∏–Ω—É—Ç–∞—Ö (16 —á–∞—Å–æ–≤)
export const WORKING_DAY_MINUTES = 960;

// –í—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (8 —á–∞—Å–æ–≤)
export const SETUP_TIME_MINUTES = 480;

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∞–∑–¥–Ω–∏–∫–µ
interface HolidayInfo {
  date: Date;
  isEve?: boolean;
  isFullDay?: boolean;
  isHalfDay?: boolean;
}

// –ú–∞—Å—Å–∏–≤ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –ò–∑—Ä–∞–∏–ª—è –Ω–∞ 2025 –≥–æ–¥
export const ISRAEL_HOLIDAYS_2025: HolidayInfo[] = [
  // –§–æ—Ä–º–∞—Ç: –Ω–∞—á–∞–ª–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ (–≤–µ—á–µ—Ä), –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å –ø—Ä–∞–∑–¥–Ω–∏–∫–∞, –∫–æ–Ω–µ—Ü –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ (–¥–æ 13:00)
  { date: new Date("2025-01-13"), isEve: true, isHalfDay: true },
  { date: new Date("2025-01-14"), isFullDay: true },
  { date: new Date("2025-01-15"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-03-14"), isEve: true, isHalfDay: true },
  { date: new Date("2025-03-15"), isFullDay: true },
  { date: new Date("2025-03-16"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-04-12"), isEve: true, isHalfDay: true },
  { date: new Date("2025-04-13"), isFullDay: true },
  { date: new Date("2025-04-14"), isFullDay: true },
  { date: new Date("2025-04-15"), isFullDay: true },
  { date: new Date("2025-04-16"), isFullDay: true },
  { date: new Date("2025-04-17"), isFullDay: true },
  { date: new Date("2025-04-18"), isFullDay: true },
  { date: new Date("2025-04-19"), isFullDay: true },
  { date: new Date("2025-04-20"), isFullDay: true },
  { date: new Date("2025-04-21"), isEve: true, isHalfDay: true },
  
  // –î—Ä—É–≥–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏...
  { date: new Date("2025-05-02"), isEve: true, isHalfDay: true },
  { date: new Date("2025-05-03"), isFullDay: true },
  { date: new Date("2025-05-04"), isEve: true, isHalfDay: true }
];

// –í –ò–∑—Ä–∞–∏–ª–µ –≤—ã—Ö–æ–¥–Ω—ã–µ - –ø—è—Ç–Ω–∏—Ü–∞ –∏ —Å—É–±–±–æ—Ç–∞
export const isWeekendIsrael = (date: Date): boolean => {
  const day = date.getDay();
  return day === 5 || day === 6; // 5 - –ø—è—Ç–Ω–∏—Ü–∞, 6 - —Å—É–±–±–æ—Ç–∞
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º
export const getHolidayStatusIsrael = (date: Date): HolidayInfo | null => {
  return ISRAEL_HOLIDAYS_2025.find(holiday =>
    holiday.date.getDate() === date.getDate() &&
    holiday.date.getMonth() === date.getMonth() &&
    holiday.date.getFullYear() === date.getFullYear()
  ) || null;
};

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å
export const getAvailableHoursInDay = (date: Date): number => {
  // –û–±—ã—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å - 16 —á–∞—Å–æ–≤ (960 –º–∏–Ω—É—Ç)
  const regularWorkingHours = WORKING_DAY_MINUTES / 60;
  
  // –ï—Å–ª–∏ —ç—Ç–æ –≤—ã—Ö–æ–¥–Ω–æ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0
  if (isWeekendIsrael(date)) return 0;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∞–∑–¥–Ω–∏–∫ –ª–∏ —ç—Ç–æ
  const holidayStatus = getHolidayStatusIsrael(date);
  
  if (!holidayStatus) {
    // –û–±—ã—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å
    return regularWorkingHours;
  }
  
  if (holidayStatus.isFullDay) {
    // –ü–æ–ª–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –¥–µ–Ω—å - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ–º
    return 0;
  }
  
  if (holidayStatus.isEve && holidayStatus.isHalfDay) {
    // –ü–æ–ª–¥–Ω—è (–¥–æ 13:00) - —Ä–∞–±–æ—Ç–∞–µ–º 5 —á–∞—Å–æ–≤
    return 5;
  }
  
  // –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —Ç–∏–ø –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
  return 0;
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å –Ω–µ—Ä–∞–±–æ—á–∏–º
export const isNonWorkingDayIsrael = (date: Date): boolean => {
  if (isWeekendIsrael(date)) return true;
  
  const holidayStatus = getHolidayStatusIsrael(date);
  if (holidayStatus && holidayStatus.isFullDay) return true;
  
  return false;
};

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —Å —É—á–µ—Ç–æ–º –≤—ã—Ö–æ–¥–Ω—ã—Ö –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤
export const addWorkingDays = (date: Date, days: number): Date => {
  let result = new Date(date);
  let remainingDays = days;
  
  while (remainingDays > 0) {
    result = addDays(result, 1);
    if (!isNonWorkingDayIsrael(result)) {
      remainingDays--;
    }
  }
  
  return result;
};

// –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
export const calculateRequiredWorkDays = (operationTime: number, quantity: number): number => {
  // –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–µ–π
  const totalOperationTime = operationTime * quantity;
  
  // –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏
  const totalTimeWithSetup = totalOperationTime + SETUP_TIME_MINUTES;
  
  // –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π (–æ–∫—Ä—É–≥–ª—è–µ–º –≤–≤–µ—Ä—Ö)
  return Math.ceil(totalTimeWithSetup / WORKING_DAY_MINUTES);
};

================================================================================

### –§–∞–π–ª: C:\Users\apule\Downloads\333\genesys-app\my-front\src\utils\utils.ts
import { addDays, differenceInDays, format } from 'date-fns';

// –†–∞–±–æ—á–∏–π –¥–µ–Ω—å –≤ –º–∏–Ω—É—Ç–∞—Ö (16 —á–∞—Å–æ–≤)
export const WORKING_DAY_MINUTES = 960;

// –í—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (8 —á–∞—Å–æ–≤)
export const SETUP_TIME_MINUTES = 480;

// –ú–∞—Å—Å–∏–≤ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –ò–∑—Ä–∞–∏–ª—è –Ω–∞ 2025 –≥–æ–¥
export const ISRAEL_HOLIDAYS_2025 = [
  { date: new Date("2025-01-13"), isEve: true, isHalfDay: true },
  { date: new Date("2025-01-14"), isFullDay: true },
  { date: new Date("2025-01-15"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-03-14"), isEve: true, isHalfDay: true },
  { date: new Date("2025-03-15"), isFullDay: true },
  { date: new Date("2025-03-16"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-04-12"), isEve: true, isHalfDay: true },
  { date: new Date("2025-04-13"), isFullDay: true },
  { date: new Date("2025-04-14"), isFullDay: true },
  { date: new Date("2025-04-15"), isFullDay: true },
  { date: new Date("2025-04-16"), isFullDay: true },
  { date: new Date("2025-04-17"), isFullDay: true },
  { date: new Date("2025-04-18"), isFullDay: true },
  { date: new Date("2025-04-19"), isFullDay: true },
  { date: new Date("2025-04-20"), isFullDay: true },
  { date: new Date("2025-04-21"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-05-02"), isEve: true, isHalfDay: true },
  { date: new Date("2025-05-03"), isFullDay: true },
  { date: new Date("2025-05-04"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-05-22"), isEve: true, isHalfDay: true },
  { date: new Date("2025-05-23"), isFullDay: true },
  { date: new Date("2025-05-24"), isFullDay: true },
  { date: new Date("2025-05-25"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-08-04"), isEve: true, isHalfDay: true },
  { date: new Date("2025-08-05"), isFullDay: true },
  { date: new Date("2025-08-06"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-09-24"), isEve: true, isHalfDay: true },
  { date: new Date("2025-09-25"), isFullDay: true },
  { date: new Date("2025-09-26"), isFullDay: true },
  { date: new Date("2025-09-27"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-10-03"), isEve: true, isHalfDay: true },
  { date: new Date("2025-10-04"), isFullDay: true },
  { date: new Date("2025-10-05"), isEve: true, isHalfDay: true },
  
  { date: new Date("2025-10-08"), isEve: true, isHalfDay: true },
  { date: new Date("2025-10-09"), isFullDay: true },
  { date: new Date("2025-10-10"), isFullDay: true },
  { date: new Date("2025-10-11"), isFullDay: true },
  { date: new Date("2025-10-12"), isFullDay: true },
  { date: new Date("2025-10-13"), isFullDay: true },
  { date: new Date("2025-10-14"), isFullDay: true },
  { date: new Date("2025-10-15"), isFullDay: true },
  { date: new Date("2025-10-16"), isFullDay: true },
  { date: new Date("2025-10-17"), isFullDay: true },
  { date: new Date("2025-10-18"), isEve: true, isHalfDay: true }
];

// –í –ò–∑—Ä–∞–∏–ª–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏ - –ø—è—Ç–Ω–∏—Ü–∞ –∏ —Å—É–±–±–æ—Ç–∞
export const isWeekendIsrael = (date: Date): boolean => {
  const day = date.getDay();
  return day === 5 || day === 6; // 5 - –ø—è—Ç–Ω–∏—Ü–∞, 6 - —Å—É–±–±–æ—Ç–∞
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º –≤ –ò–∑—Ä–∞–∏–ª–µ
export const getHolidayStatusIsrael = (date: Date) => {
  return ISRAEL_HOLIDAYS_2025.find(holiday => 
    holiday.date.getDate() === date.getDate() && 
    holiday.date.getMonth() === date.getMonth() && 
    holiday.date.getFullYear() === date.getFullYear()
  ) || null;
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ–Ω—å –Ω–µ—Ä–∞–±–æ—á–∏–º –≤ –ò–∑—Ä–∞–∏–ª–µ (–≤—ã—Ö–æ–¥–Ω–æ–π –∏–ª–∏ –ø–æ–ª–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫)
export const isNonWorkingDayIsrael = (date: Date): boolean => {
  if (isWeekendIsrael(date)) return true;
  
  const holidayStatus = getHolidayStatusIsrael(date);
  if (holidayStatus && holidayStatus.isFullDay) return true;
  
  return false;
};

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å
export const getAvailableHoursInDay = (date: Date): number => {
  // –û–±—ã—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å - 16 —á–∞—Å–æ–≤ (960 –º–∏–Ω—É—Ç)
  const regularWorkingHours = WORKING_DAY_MINUTES / 60;
  
  // –ï—Å–ª–∏ —ç—Ç–æ –≤—ã—Ö–æ–¥–Ω–æ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0
  if (isWeekendIsrael(date)) return 0;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∞–∑–¥–Ω–∏–∫ –ª–∏ —ç—Ç–æ
  const holidayStatus = getHolidayStatusIsrael(date);
  
  if (!holidayStatus) {
    // –û–±—ã—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å
    return regularWorkingHours;
  }
  
  if (holidayStatus.isFullDay) {
    // –ü–æ–ª–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –¥–µ–Ω—å - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ–º
    return 0;
  }
  
  if (holidayStatus.isEve && holidayStatus.isHalfDay) {
    // –ü–æ–ª–¥–Ω—è (–¥–æ 13:00) - —Ä–∞–±–æ—Ç–∞–µ–º 5 —á–∞—Å–æ–≤
    return 5;
  }
  
  // –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —Ç–∏–ø –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
  return 0;
};

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —Å —É—á–µ—Ç–æ–º –∏–∑—Ä–∞–∏–ª—å—Å–∫–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
export const addWorkingDays = (date: Date, days: number): Date => {
  let result = new Date(date);
  let remainingDays = days;
  
  while (remainingDays > 0) {
    result = addDays(result, 1);
    if (!isNonWorkingDayIsrael(result)) {
      remainingDays--;
    }
  }
  
  return result;
};

// –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏ —Å —É—á–µ—Ç–æ–º –∏–∑—Ä–∞–∏–ª—å—Å–∫–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
export const calculateWorkingDays = (startDate: Date, endDate: Date): number => {
  if (startDate > endDate) return 0;
  
  let workingDays = 0;
  let currentDate = new Date(startDate);
  
  while (currentDate <= endDate) {
    if (!isNonWorkingDayIsrael(currentDate)) {
      workingDays++;
    }
    currentDate = addDays(currentDate, 1);
  }
  
  return workingDays;
};

// –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
export const calculateRequiredWorkDays = (operationTime: number, quantity: number): number => {
  // –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–µ–π
  const totalOperationTime = operationTime * quantity;
  
  // –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏
  const totalTimeWithSetup = totalOperationTime + SETUP_TIME_MINUTES;
  
  // –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π (–æ–∫—Ä—É–≥–ª—è–µ–º –≤–≤–µ—Ä—Ö)
  return Math.ceil(totalTimeWithSetup / WORKING_DAY_MINUTES);
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É –∏ —Å—Ç–∞—Ç—É—Å—É
export const filterOrders = <T extends { blueprintNumber: string; status: string }>(
  orders: T[],
  searchTerm: string,
  statusFilter: string
): T[] => {
  let result = [...orders];
  if (searchTerm) {
    result = result.filter(order =>
      order.blueprintNumber.toLowerCase().includes(searchTerm.toLowerCase())
    );
  }
  if (statusFilter !== 'all') {
    result = result.filter(order => order.status === statusFilter);
  }
  return result;
};

// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∏ –¥–µ–¥–ª–∞–π–Ω—É
export const sortOrdersByPriorityAndDeadline = <T extends { priority: number; deadline: string | Date }>(
  orders: T[],
  today: Date = new Date()
): T[] => {
  return [...orders].sort((a, b) => {
    // –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (–±–æ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–≤—ã–π)
    if (a.priority !== b.priority) {
      return b.priority - a.priority;
    }
    
    // –ó–∞—Ç–µ–º —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–µ–¥–ª–∞–π–Ω—É (–±–ª–∏–∂–∞–π—à–∏–π –¥–µ–¥–ª–∞–π–Ω –ø–µ—Ä–≤—ã–π)
    const aDeadline = new Date(a.deadline);
    const bDeadline = new Date(b.deadline);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–æ—Å—Ä–æ—á–µ–Ω –ª–∏ –∑–∞–∫–∞–∑
    const aOverdue = aDeadline < today;
    const bOverdue = bDeadline < today;
    
    // –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã –∏–¥—É—Ç –ø–µ—Ä–≤—ã–º–∏
    if (aOverdue !== bOverdue) return aOverdue ? -1 : 1;
    
    // –î–ª—è –Ω–µ–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ –¥–µ–¥–ª–∞–π–Ω—É
    return aDeadline.getTime() - bDeadline.getTime();
  });
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
export const handleError = (message: string, error: unknown): void => {
  console.error(message, error);
};

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
export const formatDateDisplay = (dateStr?: string, defaultValue: string = '–ù–µ —É–∫–∞–∑–∞–Ω–æ'): string => {
  if (!dateStr) return defaultValue;
  try {
    return format(new Date(dateStr), 'dd.MM.yyyy');
  } catch (e) {
    return defaultValue;
  }
};

// –ü–æ–¥—Å—á–µ—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–µ–π
export const calculateOperationWorkTime = (
  opTimePerUnit: number, // –í—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç–∞—Ö –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É
  quantity: number
): { hours: number, minutes: number } => {
  const totalMinutes = opTimePerUnit * quantity;
  const hours = Math.floor(totalMinutes / 60);
  const minutes = Math.round(totalMinutes % 60);
  
  return { hours, minutes };
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –¥–µ–¥–ª–∞–π–Ω—É –∑–∞–∫–∞–∑–∞
export const willMeetDeadline = (
  lastOperationEndDate: Date, 
  orderDeadline: Date
): { willMeet: boolean, marginDays: number } => {
  const diffDays = differenceInDays(orderDeadline, lastOperationEndDate);
  return {
    willMeet: diffDays >= 0,
    marginDays: diffDays
  };
};

// –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–µ–π
export const calculateOrderExecutionTime = (operations: any[], quantity: number) => {
  // –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –Ω–æ–º–µ—Ä—É
  const sortedOps = [...operations].sort((a, b) => a.opNumber - b.opNumber);
  
  let totalTime = 0;
  let totalDays = 0;
  
  // –î–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Ä–µ–º—è –∏ –¥–Ω–∏
  sortedOps.forEach(op => {
    const opTime = op.opTime * quantity; // –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö
    const setupTime = SETUP_TIME_MINUTES; // –í—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏
    const totalOpTime = opTime + setupTime;
    
    totalTime += totalOpTime;
    totalDays += Math.ceil(totalOpTime / WORKING_DAY_MINUTES);
  });
  
  return {
    totalMinutes: totalTime,
    totalDays: totalDays
  };
};

================================================================================

